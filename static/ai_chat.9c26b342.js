import{p as tt,d as qe,q as nt,s as $e,x as at,o as _,c as V,n as _e,y as Ge,e as a,r as b,z as Et,A as Qt,b as j,i as R,w as r,g as i,f as h,h as m,I as Vn,B as $n,j as F,l as ve,t as A,F as fe,C as Za,M as O,D as Ka,E as Ya,a as Qa,u as Ft,G as es,H as ts,J as ns,_ as as,K as ss,L as ls,k as qt,N as En,O as zn,P as Xe,Q as os,R as is,S as rs,T as us,U as cs,V as ds,W as fs,m as vs,v as _s,X as ps}from"./entry.f3a6b6f6.js";import{_ as ms}from"./Nfooter.vue.5909f297.js";import{_ as gs}from"./Login.vue.5cd924bf.js";import{e as hs,f as An,h as Ct,w as In,y as St,i as ys,k as bs,j as Ln,l as ws,m as Tn,n as ks,o as xs,p as Cs,q as Ss,r as Rn,t as Vs,u as Pn,v as $s,x as Es,z as zs,A as As,B as Is,C as Ls}from"./api.75434be6.js";import{Q as On}from"./qrcode.vue.esm.8577bc3e.js";import{u as Gn}from"./counter.8b7d25a0.js";import{m as jn,H as Nn}from"./index.7f22f95f.js";import{m as Ts}from"./index.148f5fd9.js";import{f as Rs}from"./FileSaver.min.11d3c3aa.js";import{a as Ps}from"./index.f62d9c3c.js";import{I as vt}from"./index.bfa59a89.js";import{I as Mn}from"./index.8ed57307.js";import{I as Os}from"./index.25e3049d.js";import{I as _t}from"./index.4aae6908.js";import{I as js}from"./index.cabe1884.js";import{I as Dt}from"./index.24dc7742.js";import"./nuxt-link.1ccb43b1.js";import"./safe_login.a991f1f7.js";import"./wechat.f8f675e5.js";import"./captcha-2.41d59436.js";import"./index.e62e449a.js";import"./katex.69619638.js";const Ns=qe({name:"IconDoubleDown",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=nt("icon"),s=$e(()=>[n,`${n}-double-down`,{[`${n}-spin`]:e.spin}]),f=$e(()=>{const u={};return e.size&&(u.fontSize=at(e.size)?`${e.size}px`:e.size),e.rotate&&(u.transform=`rotate(${e.rotate}deg)`),u});return{cls:s,innerStyle:f,onClick:u=>{t("click",u)}}}}),Ms=["stroke-width","stroke-linecap","stroke-linejoin"],Us=a("path",{d:"m9.9 11.142 14.143 14.142 14.142-14.142M9.9 22.456l14.143 14.142 14.142-14.142"},null,-1),Bs=[Us];function Hs(e,t,n,s,f,v){return _(),V("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:_e(e.cls),style:Ge(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...u)=>e.onClick&&e.onClick(...u))},Bs,14,Ms)}var Jt=tt(Ns,[["render",Hs]]);const Fs=Object.assign(Jt,{install:(e,t)=>{var n;const s=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(s+Jt.name,Jt)}}),qs=qe({name:"IconVoice",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=nt("icon"),s=$e(()=>[n,`${n}-voice`,{[`${n}-spin`]:e.spin}]),f=$e(()=>{const u={};return e.size&&(u.fontSize=at(e.size)?`${e.size}px`:e.size),e.rotate&&(u.transform=`rotate(${e.rotate}deg)`),u});return{cls:s,innerStyle:f,onClick:u=>{t("click",u)}}}}),Ds=["stroke-width","stroke-linecap","stroke-linejoin"],Js=a("path",{d:"M41 21v1c0 8.837-7.163 16-16 16h-2c-8.837 0-16-7.163-16-16v-1m17 17v6m0-14a9 9 0 0 1-9-9v-6a9 9 0 1 1 18 0v6a9 9 0 0 1-9 9Z"},null,-1),Ws=[Js];function Xs(e,t,n,s,f,v){return _(),V("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:_e(e.cls),style:Ge(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...u)=>e.onClick&&e.onClick(...u))},Ws,14,Ds)}var Wt=tt(qs,[["render",Xs]]);const Gs=Object.assign(Wt,{install:(e,t)=>{var n;const s=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(s+Wt.name,Wt)}}),Zs=qe({name:"IconRecordStop",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=nt("icon"),s=$e(()=>[n,`${n}-record-stop`,{[`${n}-spin`]:e.spin}]),f=$e(()=>{const u={};return e.size&&(u.fontSize=at(e.size)?`${e.size}px`:e.size),e.rotate&&(u.transform=`rotate(${e.rotate}deg)`),u});return{cls:s,innerStyle:f,onClick:u=>{t("click",u)}}}}),Ks=["stroke-width","stroke-linecap","stroke-linejoin"],Ys=a("path",{"clip-rule":"evenodd",d:"M24 6c9.941 0 18 8.059 18 18s-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6Z"},null,-1),Qs=a("path",{d:"M19 20a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1v-8Z",fill:"currentColor",stroke:"none"},null,-1),el=a("path",{d:"M19 20a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1v-8Z"},null,-1),tl=[Ys,Qs,el];function nl(e,t,n,s,f,v){return _(),V("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:_e(e.cls),style:Ge(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...u)=>e.onClick&&e.onClick(...u))},tl,14,Ks)}var Xt=tt(Zs,[["render",nl]]);const al=Object.assign(Xt,{install:(e,t)=>{var n;const s=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(s+Xt.name,Xt)}}),sl=qe({name:"IconCommand",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=nt("icon"),s=$e(()=>[n,`${n}-command`,{[`${n}-spin`]:e.spin}]),f=$e(()=>{const u={};return e.size&&(u.fontSize=at(e.size)?`${e.size}px`:e.size),e.rotate&&(u.transform=`rotate(${e.rotate}deg)`),u});return{cls:s,innerStyle:f,onClick:u=>{t("click",u)}}}}),ll=["stroke-width","stroke-linecap","stroke-linejoin"],ol=a("path",{d:"M29 19v-6a6 6 0 1 1 6 6h-6Zm0 0v10m0-10H19m10 10v6a6 6 0 1 0 6-6h-6Zm0 0H19m0-10v10m0-10v-6a6 6 0 1 0-6 6h6Zm0 10v6a6 6 0 1 1-6-6h6Z"},null,-1),il=[ol];function rl(e,t,n,s,f,v){return _(),V("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:_e(e.cls),style:Ge(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...u)=>e.onClick&&e.onClick(...u))},il,14,ll)}var Gt=tt(sl,[["render",rl]]);const Vt=Object.assign(Gt,{install:(e,t)=>{var n;const s=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(s+Gt.name,Gt)}}),ul=qe({name:"IconNotification",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=nt("icon"),s=$e(()=>[n,`${n}-notification`,{[`${n}-spin`]:e.spin}]),f=$e(()=>{const u={};return e.size&&(u.fontSize=at(e.size)?`${e.size}px`:e.size),e.rotate&&(u.transform=`rotate(${e.rotate}deg)`),u});return{cls:s,innerStyle:f,onClick:u=>{t("click",u)}}}}),cl=["stroke-width","stroke-linecap","stroke-linejoin"],dl=a("path",{d:"M24 9c7.18 0 13 5.82 13 13v13H11V22c0-7.18 5.82-13 13-13Zm0 0V4M6 35h36m-25 7h14"},null,-1),fl=[dl];function vl(e,t,n,s,f,v){return _(),V("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:_e(e.cls),style:Ge(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...u)=>e.onClick&&e.onClick(...u))},fl,14,cl)}var Zt=tt(ul,[["render",vl]]);const Un=Object.assign(Zt,{install:(e,t)=>{var n;const s=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(s+Zt.name,Zt)}}),_l=qe({name:"IconPublic",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=nt("icon"),s=$e(()=>[n,`${n}-public`,{[`${n}-spin`]:e.spin}]),f=$e(()=>{const u={};return e.size&&(u.fontSize=at(e.size)?`${e.size}px`:e.size),e.rotate&&(u.transform=`rotate(${e.rotate}deg)`),u});return{cls:s,innerStyle:f,onClick:u=>{t("click",u)}}}}),pl=["stroke-width","stroke-linecap","stroke-linejoin"],ml=a("path",{d:"M15 21.5 6.704 19M15 21.5l4.683 5.152a1 1 0 0 1 .25.814L18 40.976l10.918-16.117a1 1 0 0 0-.298-1.409L21.5 19 15 21.5Zm0 0 6.062-6.995a1 1 0 0 0 .138-1.103L18 7.024M42 24c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"},null,-1),gl=[ml];function hl(e,t,n,s,f,v){return _(),V("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:_e(e.cls),style:Ge(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...u)=>e.onClick&&e.onClick(...u))},gl,14,pl)}var Kt=tt(_l,[["render",hl]]);const yl=Object.assign(Kt,{install:(e,t)=>{var n;const s=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(s+Kt.name,Kt)}}),bl={class:"qr_fing relative"},wl={key:0,class:"absolute pay_over"},kl={key:0,class:"text-white"},xl={class:"text-green-400 text-center"},Cl={key:1,class:"text-white"},Sl={class:"text-red-400 text-center"},Vl={key:2,class:"text-center time_in"},$l={class:"qr_fing relative"},El={key:0,class:"absolute pay_over"},zl={key:0,class:"text-white"},Al={class:"text-green-400 text-center"},Il={key:1,class:"text-white"},Ll={class:"text-red-400 text-center"},Tl={key:2,class:"text-center time_in"},Rl=a("div",{className:"custom-radio-card-mask"},[a("div",{className:"custom-radio-card-mask-dot"})],-1),Pl={className:"custom-radio-card-title mt-2"},Ol=qe({__name:"Charge",props:{dialogFormVisible:{type:Boolean,default:!1}},emits:["handleCancels"],setup(e,{emit:t}){const n=e,s=Gn(),f=X=>{v.value=X},v=b(s.setting.pay_wechat_open==1||s.setting.pay_alipay_open==1?"first":"second"),u=b("paying"),d=b(!1),C=()=>{u.value="time_out"},P=$e({get(){return n.dialogFormVisible!=!1&&x(),n.dialogFormVisible},set(X){t("handleCancels",X)}}),S=b(!1),D=b(""),w=b(!1),z=b(!1),$=Et({amount:s.setting.min_recharge?parseInt(s.setting.min_recharge):1,pay_type:s.setting.pay_wechat_open==1?"wechat":s.setting.pay_alipay_open==1?"alipay":"balance",vip_type:1,kami:""});Qt(()=>$.amount,X=>{X<s.setting.min_recharge&&($.amount=s.setting.min_recharge)});const J=b([]),x=()=>{hs().then(X=>{J.value=X._rawValue.data,p.value=X._rawValue.data[0].id,re.value=X._rawValue.data[0].pay_amount}).catch(X=>{O.error("获取失败")})},p=b(""),re=b(0),H=X=>{J.value.forEach(k=>{k.id==X&&(p.value=k.id,re.value=k.pay_amount)})},Le=()=>{if($.amount==0){O.error("请输入充值金额");return}w.value=!0,S.value=!0,z.value=!0;const X=/Mobile|Android|iOS/.test(navigator.userAgent);$.pay_type=="alipay"?An({amount:$.amount,type:"charge",is_mobile:X&&s.setting.alipay_wap_open=="1"?1:0}).then(k=>{X&&s.setting.alipay_wap_open=="1"?window.location.href=k._rawValue.pay_url:(d.value=!0,u.value="paying",D.value=k._rawValue.qr_code,ee.value=setInterval(()=>{Ct({order_id:k._rawValue.order_id}).then(B=>{B._rawValue.status==200&&(clearInterval(ee.value),u.value="success",O.success("充值成功"),d.value=!1)}).catch(B=>{clearInterval(ee.value),console.log(B)})},5e3)),w.value=!1,S.value=!1}).catch(k=>{w.value=!1,S.value=!1,z.value=!1,console.log(k.message)}):$.pay_type=="wechat"?In({amount:$.amount,type:"charge",is_mobile:X&&s.setting.wechat_wap_open=="1"?1:0}).then(k=>{X&&s.setting.wechat_wap_open=="1"?window.location.href=k._rawValue.pay_url:(d.value=!0,u.value="paying",D.value=k._rawValue.qr_code,ee.value=setInterval(()=>{Ct({order_id:k._rawValue.order_id}).then(B=>{B._rawValue.status==200&&(clearInterval(ee.value),u.value="success",O.success("充值成功"),d.value=!1)}).catch(B=>{clearInterval(ee.value),console.log(B)})},5e3)),w.value=!1,S.value=!1}).catch(k=>{w.value=!1,S.value=!1,z.value=!1,console.log(k.message)}):$.pay_type=="yzf_alipay"?(S.value=!1,z.value=!1,St({amount:$.amount,type:"charge",pay_type:"alipay"}).then(k=>{var ae;const B=document.createElement("div");B.innerHTML=k._rawValue.data,document.body.appendChild(B),(ae=document.getElementById("dopay"))==null||ae.submit(),w.value=!1,S.value=!1}).catch(k=>{w.value=!1,S.value=!1,z.value=!1,console.log(k.message)})):$.pay_type=="yzf_wechat"&&(S.value=!1,z.value=!1,St({amount:$.amount,type:"charge",pay_type:"wxpay"}).then(k=>{var ae;const B=document.createElement("div");B.innerHTML=k._rawValue.data,document.body.appendChild(B),(ae=document.getElementById("dopay"))==null||ae.submit(),w.value=!1,S.value=!1}).catch(k=>{w.value=!1,S.value=!1,z.value=!1,console.log(k.message)}))},ee=b(""),Ee=()=>{if(p.value==""){O.error("请选择VIP套餐");return}w.value=!0,S.value=!0,z.value=!0;const X=/Mobile|Android|iOS/.test(navigator.userAgent);$.pay_type=="alipay"?An({v_id:p.value,amount:re.value,type:"vip",coupon:$.kami,is_mobile:X&&s.setting.alipay_wap_open=="1"?1:0}).then(k=>{X&&s.setting.alipay_wap_open=="1"?window.location.href=k._rawValue.pay_url:(d.value=!0,u.value="paying",D.value=k._rawValue.qr_code,ee.value=setInterval(()=>{Ct({order_id:k._rawValue.order_id}).then(B=>{B._rawValue.status==200&&(clearInterval(ee.value),u.value="success",O.success("升级VIP成功"),d.value=!1)}).catch(B=>{clearInterval(ee.value),console.log(B)})},5e3)),w.value=!1,S.value=!1}).catch(k=>{w.value=!1,S.value=!1,z.value=!1,console.log(k.message)}):$.pay_type=="wechat"?In({v_id:p.value,amount:re.value,type:"vip",coupon:$.kami,is_mobile:X&&s.setting.wechat_wap_open=="1"?1:0}).then(k=>{X&&s.setting.wechat_wap_open=="1"?window.location.href=k._rawValue.pay_url:(d.value=!0,u.value="paying",D.value=k._rawValue.qr_code,ee.value=setInterval(()=>{Ct({order_id:k._rawValue.order_id}).then(B=>{B._rawValue.status==200&&(clearInterval(ee.value),u.value="success",O.success("升级VIP成功"),d.value=!1)}).catch(B=>{clearInterval(ee.value),console.log(B)})},5e3)),w.value=!1,S.value=!1}).catch(k=>{w.value=!1,S.value=!1,z.value=!1,console.log(k.message)}):$.pay_type=="balance"?(S.value=!1,z.value=!1,ys({v_id:p.value,coupon:$.kami}).then(k=>{w.value=!1,O.success(k._rawValue.message)}).catch(k=>{w.value=!1,S.value=!1,z.value=!1,console.log(k.message)})):$.pay_type=="yzf_wechat"?(S.value=!1,z.value=!1,St({v_id:p.value,amount:re.value,type:"vip",coupon:$.kami,pay_type:"wxpay"}).then(k=>{var ae;const B=document.createElement("div");B.innerHTML=k._rawValue.data,document.body.appendChild(B),(ae=document.getElementById("dopay"))==null||ae.submit(),w.value=!1,S.value=!1}).catch(k=>{w.value=!1,S.value=!1,z.value=!1,console.log(k.message)})):$.pay_type=="yzf_alipay"&&(S.value=!1,z.value=!1,St({v_id:p.value,amount:re.value,type:"vip",coupon:$.kami,pay_type:"alipay"}).then(k=>{var ae;const B=document.createElement("div");B.innerHTML=k._rawValue.data,document.body.appendChild(B),(ae=document.getElementById("dopay"))==null||ae.submit(),w.value=!1,S.value=!1}).catch(k=>{w.value=!1,S.value=!1,z.value=!1,console.log(k.message)}))},je=()=>{v.value=="first"?Le():Ee()},pe=()=>{P.value=!1};return(X,k)=>{const B=j("a-countdown"),ae=j("a-spin"),we=j("a-input-number"),me=j("a-form-item"),ie=j("a-radio"),Pe=j("a-radio-group"),Ne=j("a-form"),Re=j("a-tab-pane"),Me=j("a-typography-text"),Ue=j("a-space"),st=j("a-input"),U=j("a-tabs"),L=j("a-button"),T=j("a-modal");return _(),R(T,{class:"msgbox",visible:m(P),"onUpdate:visible":k[8]||(k[8]=E=>Za(P)?P.value=E:null),title:"充值中心"},{footer:r(()=>[i(Ue,{class:"dialog-footer"},{default:r(()=>[i(L,{type:"primary",onClick:k[6]||(k[6]=E=>je()),loading:w.value},{default:r(()=>[h(" 立即充值 ")]),_:1},8,["loading"]),i(L,{type:"primary",plain:"",onClick:k[7]||(k[7]=E=>pe())},{default:r(()=>[h(" 完成支付 ")]),_:1})]),_:1})]),default:r(()=>[i(U,{modelValue:v.value,"onUpdate:modelValue":k[5]||(k[5]=E=>v.value=E),"default-active-key":v.value,class:"demo-tabs",type:"capsule",onTabClick:f},{default:r(()=>[m(s).setting.pay_wechat_open==1||m(s).setting.pay_alipay_open==1||m(s).setting.yzf_open==1?(_(),R(Re,{title:"充值"+m(s).setting.money_name_set,key:"first"},{default:r(()=>[i(ae,{loading:S.value},{default:r(()=>[a("div",bl,[z.value&&u.value!="paying"?(_(),V("div",wl,[u.value=="success"?(_(),V("h4",kl,[a("p",xl,[i(m(Vn))]),h(" 支付成功 ")])):u.value=="time_out"?(_(),V("h4",Cl,[a("p",Sl,[i(m($n))]),h(" 超时未支付 ")])):F("",!0)])):F("",!0),z.value?(_(),R(On,{key:1,value:D.value,size:"240",class:"mt-2 mb-2 m-auto d-sm-block"},null,8,["value"])):F("",!0),z.value?(_(),V("h4",Vl,[h(" 「"),i(B,{value:Date.now()+5*60*1e3,format:"HH:mm:ss",now:Date.now(),start:d.value,onFinish:C},null,8,["value","now","start"]),h("」 ")])):F("",!0)])]),_:1},8,["loading"]),i(Ne,{model:$},{default:r(()=>[i(me,{label:"充值"},{default:r(()=>[i(we,{step:.01,modelValue:$.amount,"onUpdate:modelValue":k[0]||(k[0]=E=>$.amount=E),autocomplete:"off",min:m(s).setting.min_recharge,placeholder:"请输入充值金额"},null,8,["modelValue","min"])]),_:1}),i(me,{label:"支付方式"},{default:r(()=>[i(Pe,{modelValue:$.pay_type,"onUpdate:modelValue":k[1]||(k[1]=E=>$.pay_type=E)},{default:r(()=>[m(s).setting.pay_wechat_open==1?(_(),R(ie,{key:0,value:"wechat"},{default:r(()=>[h("微信 ")]),_:1})):F("",!0),m(s).setting.pay_alipay_open==1?(_(),R(ie,{key:1,value:"alipay"},{default:r(()=>[h("支付宝 ")]),_:1})):F("",!0),m(s).setting.yzf_open==1?(_(),R(ie,{key:2,value:"yzf_wechat"},{default:r(()=>[h("微信 ")]),_:1})):F("",!0),m(s).setting.yzf_open==1?(_(),R(ie,{key:3,value:"yzf_alipay"},{default:r(()=>[h("支付宝 ")]),_:1})):F("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])):F("",!0),i(Re,{title:"开通VIP",key:"second"},{default:r(()=>[i(ae,{loading:S.value},{default:r(()=>[a("div",$l,[z.value&&u.value!="paying"?(_(),V("div",El,[u.value=="success"?(_(),V("h4",zl,[a("p",Al,[i(m(Vn))]),h(" 支付成功 ")])):u.value=="time_out"?(_(),V("h4",Il,[a("p",Ll,[i(m($n))]),h(" 超时未支付 ")])):F("",!0)])):F("",!0),z.value?(_(),R(On,{key:1,value:D.value,size:"240",class:"mt-2 mb-2 m-auto d-sm-block"},null,8,["value"])):F("",!0),z.value?(_(),V("h4",Tl,[h(" 「"),i(B,{value:Date.now()+5*60*1e3,format:"HH:mm:ss",now:Date.now(),start:d.value,onFinish:C},null,8,["value","now","start"]),h("」 ")])):F("",!0)])]),_:1},8,["loading"]),i(Ne,{model:$},{default:r(()=>[i(me,{label:"购买会员"},{default:r(()=>[i(Pe,{onChange:H,modelValue:$.vip_type,"onUpdate:modelValue":k[2]||(k[2]=E=>$.vip_type=E)},{default:r(()=>[(_(!0),V(fe,null,ve(J.value,(E,N)=>(_(),R(ie,{key:N,value:E.id},{radio:r(({checked:W})=>[i(Ue,{align:"start",class:_e(["custom-radio-card",{"custom-radio-card-checked":W}])},{default:r(()=>[Rl,a("div",null,[a("div",null,A(E.end_time)+" 天 ",1),a("div",Pl,A(E.title),1),a("div",null,[a("p",null,"每日问答:"+A(E.limit_send),1),h(" 每日绘画:"+A(E.limit_draw),1)]),i(Me,{type:"secondary"},{default:r(()=>[h(A(E.pay_amount),1)]),_:2},1024)])]),_:2},1032,["class"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),i(me,{label:"支付方式"},{default:r(()=>[i(Pe,{modelValue:$.pay_type,"onUpdate:modelValue":k[3]||(k[3]=E=>$.pay_type=E)},{default:r(()=>[m(s).setting.pay_wechat_open==1?(_(),R(ie,{key:0,value:"wechat"},{default:r(()=>[h("微信")]),_:1})):F("",!0),m(s).setting.pay_alipay_open==1?(_(),R(ie,{key:1,value:"alipay"},{default:r(()=>[h("支付宝")]),_:1})):F("",!0),m(s).setting.yzf_open==1?(_(),R(ie,{key:2,value:"yzf_wechat"},{default:r(()=>[h("微信 ")]),_:1})):F("",!0),m(s).setting.yzf_open==1?(_(),R(ie,{key:3,value:"yzf_alipay"},{default:r(()=>[h("支付宝 ")]),_:1})):F("",!0),i(ie,{value:"balance"},{default:r(()=>[h(A(m(s).setting.money_name_set),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),i(me,{label:"优惠卷"},{default:r(()=>[i(st,{modelValue:$.kami,"onUpdate:modelValue":k[4]||(k[4]=E=>$.kami=E),placeholder:"请输入优惠卷码"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["modelValue","default-active-key"])]),_:1},8,["visible"])}}}),Ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABHdJREFUeF7tm02IHEUUgL/XVT0r8Qd1DWogi/EHJIhBJKcQQYIg/gQRFBTxN2BEPCaSiwiCgURPQURQ/AORCCEkEggGFGEvigdR1s3BiwF/0BANMbDbVf2ke6eHns1seqa7Z3Fmek+z3VXvvfr61XuvqquF3N+6B3VNa5rW4gI2f31cfremcIunWfz1qJzPxiTpj0fUzIRc4RQzLoO92Dis4H+JOMtn4lMAM4/rVZMy+AxMCuETOSOJ23MZaybhyV8wxnOclxue1ivHdc4XPdQkJsi6x/SaoobjfL8B0HhAMwWaGNAEwXGO8kVja7JAkwWaLNBkgSYLFEXKcb7fZIFhZQGNWesMt0nARpRLy3iRBJx1nh+mAubxnC4jo6jPUDzABewmYFeR8kHui3DQRLw4SJ9+2tYKIIZrY8uP/Sgu3SbgZrvIP6X7L+tYKwAXchhlS07HcZSfUf4tY7AEXIJyowr3d3ZxhXdNxJ4y8nr1qQ1AZLlb4GCmxHsemlJm6zA0CtkuynuZLPU8Gipf1iG7NgBd8z5mv43ZV4eBmYwu+cqr1vNWHfJrAbAgbLEBz6qwPTFK4ZnQ8XkdBnYAtHiYmHfS/2MOeeWjOjysMgBv+VDhvvxg63T/TG4C2RgO5/UIfGocL1UBXRmAs/y53IDVApDotY61/3sAzvA2Adcnhopyygj7iDjVZXjIeq/sVmF9281/s54XLuYBIwGgZ1HUI0gWtes1BUYCQGKktxzInmziAbHwRRhxJO8BSaoLlHvy7fLze6QBVJmjIz8F6hh8ImPREFrP1dJi2jtmMOxMqs6RCIJ1QVguJ6k+Q1etIqwjDc4D08OsA7TFRue5PQBjYA7hJI7OKY8qgCsD8JabVHgzNaK9EKqrDohCtknMHoRNXYMUfsfzcR3ldmUAnVLV8AbCU20Qu6zngypPZvkCqJcsUY4Yz3NV9NQGILLsENi75AjMh46tZQ1LdpN8i7l8f1XOIPwhcGvX9Yorw9oA+BabNOZExzhhNlBexzAXLHBuEBjO8hqws6tPzH6vzC5fDyh8G7rutcggumoDkBY8hr0q7BjEgE7bXHUYWY4JbO4HQNImMGwYFHImu1YA7arvFaXECi0HoNcCixU8INVZYfOldgCJQS5gKwEvA9dBughqFXpFHoDhxAWRvw0gkxMYDghLCydVbgk9fxfq6NFgKADKGJLv42yaVp/sCnYwLzFHO9fau84KP4WOu8rqHCqAZAEziGHZDk8csDkOONZXX6VSyh0qgMjygMD7fQ1kKX8+bz2H2tOo8N1C1XSb6BkqAG+5XEnfE/R1ElWF78KIezNgBVnluHU80TfcFRoOFUCiMw7YoJKmx219GSt8Y6O0ovwrjfBJfeG5Q4Q7IT3M/X0cczKM+aoveQWNhg4g05+Wtr67ilvJNjXME/N12cg+CJhVAzCIUavZtgEwrNfjq/kUq+hqPKDxgOaYXHNMrjkmVyWKjnrfJgtMfBZoPpub9A8nkyA20Z/OplF80j+ezlLZJH4+/x9RrAqhJczDzQAAAABJRU5ErkJggg==";var Zn={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */(function(e,t){(function(s,f){e.exports=f()})(Ka,function(){return function(){var n={686:function(v,u,d){d.d(u,{default:function(){return st}});var C=d(279),P=d.n(C),S=d(370),D=d.n(S),w=d(817),z=d.n(w);function $(U){try{return document.execCommand(U)}catch{return!1}}var J=function(L){var T=z()(L);return $("cut"),T},x=J;function p(U){var L=document.documentElement.getAttribute("dir")==="rtl",T=document.createElement("textarea");T.style.fontSize="12pt",T.style.border="0",T.style.padding="0",T.style.margin="0",T.style.position="absolute",T.style[L?"right":"left"]="-9999px";var E=window.pageYOffset||document.documentElement.scrollTop;return T.style.top="".concat(E,"px"),T.setAttribute("readonly",""),T.value=U,T}var re=function(L,T){var E=p(L);T.container.appendChild(E);var N=z()(E);return $("copy"),E.remove(),N},H=function(L){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},E="";return typeof L=="string"?E=re(L,T):L instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(L==null?void 0:L.type)?E=re(L.value,T):(E=z()(L),$("copy")),E},Le=H;function ee(U){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ee=function(T){return typeof T}:ee=function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},ee(U)}var Ee=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=L.action,E=T===void 0?"copy":T,N=L.container,W=L.target,ke=L.text;if(E!=="copy"&&E!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(W!==void 0)if(W&&ee(W)==="object"&&W.nodeType===1){if(E==="copy"&&W.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(E==="cut"&&(W.hasAttribute("readonly")||W.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(ke)return Le(ke,{container:N});if(W)return E==="cut"?x(W):Le(W,{container:N})},je=Ee;function pe(U){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pe=function(T){return typeof T}:pe=function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},pe(U)}function X(U,L){if(!(U instanceof L))throw new TypeError("Cannot call a class as a function")}function k(U,L){for(var T=0;T<L.length;T++){var E=L[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(U,E.key,E)}}function B(U,L,T){return L&&k(U.prototype,L),T&&k(U,T),U}function ae(U,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(L&&L.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),L&&we(U,L)}function we(U,L){return we=Object.setPrototypeOf||function(E,N){return E.__proto__=N,E},we(U,L)}function me(U){var L=Ne();return function(){var E=Re(U),N;if(L){var W=Re(this).constructor;N=Reflect.construct(E,arguments,W)}else N=E.apply(this,arguments);return ie(this,N)}}function ie(U,L){return L&&(pe(L)==="object"||typeof L=="function")?L:Pe(U)}function Pe(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function Ne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Re(U){return Re=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},Re(U)}function Me(U,L){var T="data-clipboard-".concat(U);if(L.hasAttribute(T))return L.getAttribute(T)}var Ue=function(U){ae(T,U);var L=me(T);function T(E,N){var W;return X(this,T),W=L.call(this),W.resolveOptions(N),W.listenClick(E),W}return B(T,[{key:"resolveOptions",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof N.action=="function"?N.action:this.defaultAction,this.target=typeof N.target=="function"?N.target:this.defaultTarget,this.text=typeof N.text=="function"?N.text:this.defaultText,this.container=pe(N.container)==="object"?N.container:document.body}},{key:"listenClick",value:function(N){var W=this;this.listener=D()(N,"click",function(ke){return W.onClick(ke)})}},{key:"onClick",value:function(N){var W=N.delegateTarget||N.currentTarget,ke=this.action(W)||"copy",ze=je({action:ke,container:this.container,target:this.target(W),text:this.text(W)});this.emit(ze?"success":"error",{action:ke,text:ze,trigger:W,clearSelection:function(){W&&W.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(N){return Me("action",N)}},{key:"defaultTarget",value:function(N){var W=Me("target",N);if(W)return document.querySelector(W)}},{key:"defaultText",value:function(N){return Me("text",N)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(N){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return Le(N,W)}},{key:"cut",value:function(N){return x(N)}},{key:"isSupported",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],W=typeof N=="string"?[N]:N,ke=!!document.queryCommandSupported;return W.forEach(function(ze){ke=ke&&!!document.queryCommandSupported(ze)}),ke}}]),T}(P()),st=Ue},828:function(v){var u=9;if(typeof Element<"u"&&!Element.prototype.matches){var d=Element.prototype;d.matches=d.matchesSelector||d.mozMatchesSelector||d.msMatchesSelector||d.oMatchesSelector||d.webkitMatchesSelector}function C(P,S){for(;P&&P.nodeType!==u;){if(typeof P.matches=="function"&&P.matches(S))return P;P=P.parentNode}}v.exports=C},438:function(v,u,d){var C=d(828);function P(w,z,$,J,x){var p=D.apply(this,arguments);return w.addEventListener($,p,x),{destroy:function(){w.removeEventListener($,p,x)}}}function S(w,z,$,J,x){return typeof w.addEventListener=="function"?P.apply(null,arguments):typeof $=="function"?P.bind(null,document).apply(null,arguments):(typeof w=="string"&&(w=document.querySelectorAll(w)),Array.prototype.map.call(w,function(p){return P(p,z,$,J,x)}))}function D(w,z,$,J){return function(x){x.delegateTarget=C(x.target,z),x.delegateTarget&&J.call(w,x)}}v.exports=S},879:function(v,u){u.node=function(d){return d!==void 0&&d instanceof HTMLElement&&d.nodeType===1},u.nodeList=function(d){var C=Object.prototype.toString.call(d);return d!==void 0&&(C==="[object NodeList]"||C==="[object HTMLCollection]")&&"length"in d&&(d.length===0||u.node(d[0]))},u.string=function(d){return typeof d=="string"||d instanceof String},u.fn=function(d){var C=Object.prototype.toString.call(d);return C==="[object Function]"}},370:function(v,u,d){var C=d(879),P=d(438);function S($,J,x){if(!$&&!J&&!x)throw new Error("Missing required arguments");if(!C.string(J))throw new TypeError("Second argument must be a String");if(!C.fn(x))throw new TypeError("Third argument must be a Function");if(C.node($))return D($,J,x);if(C.nodeList($))return w($,J,x);if(C.string($))return z($,J,x);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function D($,J,x){return $.addEventListener(J,x),{destroy:function(){$.removeEventListener(J,x)}}}function w($,J,x){return Array.prototype.forEach.call($,function(p){p.addEventListener(J,x)}),{destroy:function(){Array.prototype.forEach.call($,function(p){p.removeEventListener(J,x)})}}}function z($,J,x){return P(document.body,$,J,x)}v.exports=S},817:function(v){function u(d){var C;if(d.nodeName==="SELECT")d.focus(),C=d.value;else if(d.nodeName==="INPUT"||d.nodeName==="TEXTAREA"){var P=d.hasAttribute("readonly");P||d.setAttribute("readonly",""),d.select(),d.setSelectionRange(0,d.value.length),P||d.removeAttribute("readonly"),C=d.value}else{d.hasAttribute("contenteditable")&&d.focus();var S=window.getSelection(),D=document.createRange();D.selectNodeContents(d),S.removeAllRanges(),S.addRange(D),C=S.toString()}return C}v.exports=u},279:function(v){function u(){}u.prototype={on:function(d,C,P){var S=this.e||(this.e={});return(S[d]||(S[d]=[])).push({fn:C,ctx:P}),this},once:function(d,C,P){var S=this;function D(){S.off(d,D),C.apply(P,arguments)}return D._=C,this.on(d,D,P)},emit:function(d){var C=[].slice.call(arguments,1),P=((this.e||(this.e={}))[d]||[]).slice(),S=0,D=P.length;for(S;S<D;S++)P[S].fn.apply(P[S].ctx,C);return this},off:function(d,C){var P=this.e||(this.e={}),S=P[d],D=[];if(S&&C)for(var w=0,z=S.length;w<z;w++)S[w].fn!==C&&S[w].fn._!==C&&D.push(S[w]);return D.length?P[d]=D:delete P[d],this}},v.exports=u,v.exports.TinyEmitter=u}},s={};function f(v){if(s[v])return s[v].exports;var u=s[v]={exports:{}};return n[v](u,u.exports,f),u.exports}return function(){f.n=function(v){var u=v&&v.__esModule?function(){return v.default}:function(){return v};return f.d(u,{a:u}),u}}(),function(){f.d=function(v,u){for(var d in u)f.o(u,d)&&!f.o(v,d)&&Object.defineProperty(v,d,{enumerable:!0,get:u[d]})}}(),function(){f.o=function(v,u){return Object.prototype.hasOwnProperty.call(v,u)}}(),f(686)}().default})})(Zn);var jl=Zn.exports;const Nl=Ya(jl);var tn={},ue={};Object.defineProperty(ue,"__esModule",{value:!0});ue.trim=ue.isObject=ue.isNil=ue.isNan=ue.size=ue.isString=ue.validateLocale=ue.splitSentences=void 0;var Ml=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t.replace(/\.+/g,".|").replace(/\?/g,"?|").replace(/\!/g,"!|").split("|").map(function(n){return Yn(n)}).filter(Boolean)};ue.splitSentences=Ml;var Ul=/^(?:(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))$|^((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|\d{3}))?((?:-(?:[\da-z]{5,8}|\d[\da-z]{3}))*)?((?:-[\da-wy-z](?:-[\da-z]{2,8})+)*)?(-x(?:-[\da-z]{1,8})+)?$|^(x(?:-[\da-z]{1,8})+)$/i,Bl=function(t){return typeof t!="string"?!1:Ul.test(t)};ue.validateLocale=Bl;var Kn=function(t){return typeof t=="string"||t instanceof String};ue.isString=Kn;var Hl=function(t){return t&&Array.isArray(t)&&t.length?t.length:0};ue.size=Hl;var Fl=function(t){return typeof t=="number"&&isNaN(t)};ue.isNan=Fl;var ql=function(t){return t==null};ue.isNil=ql;var Dl=function(t){return Object.prototype.toString.call(t)==="[object Object]"};ue.isObject=Dl;var Yn=function(t){return Kn(t)?t.trim():""};ue.trim=Yn;Object.defineProperty(tn,"__esModule",{value:!0});var Qn=tn.default=void 0,ne=ue;function Jl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bn(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Wl(e,t,n){return t&&Bn(e.prototype,t),n&&Bn(e,n),e}var Xl=function(){function e(){Jl(this,e),this.browserSupport="speechSynthesis"in window&&"SpeechSynthesisUtterance"in window,this.synthesisVoice=null}return Wl(e,[{key:"init",value:function(){var n=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(f,v){n.browserSupport||v("Your browser does not support Speech Synthesis");var u=(0,ne.isNil)(s.listeners)?{}:s.listeners,d=(0,ne.isNil)(s.splitSentences)?!0:s.splitSentences,C=(0,ne.isNil)(s.lang)?void 0:s.lang,P=(0,ne.isNil)(s.volume)?1:s.volume,S=(0,ne.isNil)(s.rate)?1:s.rate,D=(0,ne.isNil)(s.pitch)?1:s.pitch,w=(0,ne.isNil)(s.voice)?void 0:s.voice;Object.keys(u).forEach(function(z){var $=u[z],J=function(p){$&&$(p)};z!=="onvoiceschanged"&&(speechSynthesis[z]=J)}),n._loadVoices().then(function(z){u.onvoiceschanged&&u.onvoiceschanged(z),!(0,ne.isNil)(C)&&n.setLanguage(C),!(0,ne.isNil)(w)&&n.setVoice(w),!(0,ne.isNil)(P)&&n.setVolume(P),!(0,ne.isNil)(S)&&n.setRate(S),!(0,ne.isNil)(D)&&n.setPitch(D),!(0,ne.isNil)(d)&&n.setSplitSentences(d),f({voices:z,lang:n.lang,voice:n.voice,volume:n.volume,rate:n.rate,pitch:n.pitch,splitSentences:n.splitSentences,browserSupport:n.browserSupport})}).catch(function(z){v(z)})})}},{key:"_fetchVoices",value:function(){return new Promise(function(n,s){setTimeout(function(){var f=speechSynthesis.getVoices();return(0,ne.size)(f)>0?n(f):s("Could not fetch voices")},100)})}},{key:"_loadVoices",value:function(){var n=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;return this._fetchVoices().catch(function(f){if(s===0)throw f;return n._loadVoices(s-1)})}},{key:"hasBrowserSupport",value:function(){return this.browserSupport}},{key:"setVoice",value:function(n){var s,f=speechSynthesis.getVoices();if((0,ne.isString)(n)&&(s=f.find(function(v){return v.name===n})),(0,ne.isObject)(n)&&(s=n),s)this.synthesisVoice=s;else throw"Error setting voice. The voice you passed is not valid or the voices have not been loaded yet."}},{key:"setLanguage",value:function(n){if(n=n.replace("_","-"),(0,ne.validateLocale)(n))this.lang=n;else throw"Error setting language. Please verify your locale is BCP47 format (http://schneegans.de/lv/?tags=es-FR&format=text)"}},{key:"setVolume",value:function(n){if(n=parseFloat(n),!(0,ne.isNan)(n)&&n>=0&&n<=1)this.volume=n;else throw"Error setting volume. Please verify your volume value is a number between 0 and 1."}},{key:"setRate",value:function(n){if(n=parseFloat(n),!(0,ne.isNan)(n)&&n>=0&&n<=10)this.rate=n;else throw"Error setting rate. Please verify your volume value is a number between 0 and 10."}},{key:"setPitch",value:function(n){if(n=parseFloat(n),!(0,ne.isNan)(n)&&n>=0&&n<=2)this.pitch=n;else throw"Error setting pitch. Please verify your pitch value is a number between 0 and 2."}},{key:"setSplitSentences",value:function(n){this.splitSentences=n}},{key:"speak",value:function(n){var s=this;return new Promise(function(f,v){var u=n.text,d=n.listeners,C=d===void 0?{}:d,P=n.queue,S=P===void 0?!0:P,D=(0,ne.trim)(u);(0,ne.isNil)(D)&&f(),!S&&s.cancel();var w=[],z=s.splitSentences?(0,ne.splitSentences)(D):[D];z.forEach(function($,J){var x=J===(0,ne.size)(z)-1,p=new SpeechSynthesisUtterance;s.synthesisVoice&&(p.voice=s.synthesisVoice),s.lang&&(p.lang=s.lang),s.volume&&(p.volume=s.volume),s.rate&&(p.rate=s.rate),s.pitch&&(p.pitch=s.pitch),p.text=$,Object.keys(C).forEach(function(re){var H=C[re],Le=function(Ee){H&&H(Ee),re==="onerror"&&v({utterances:w,lastUtterance:p,error:Ee}),re==="onend"&&x&&f({utterances:w,lastUtterance:p})};p[re]=Le}),w.push(p),speechSynthesis.speak(p)})})}},{key:"pending",value:function(){return speechSynthesis.pending}},{key:"paused",value:function(){return speechSynthesis.paused}},{key:"speaking",value:function(){return speechSynthesis.speaking}},{key:"pause",value:function(){speechSynthesis.pause()}},{key:"resume",value:function(){speechSynthesis.resume()}},{key:"cancel",value:function(){speechSynthesis.cancel()}}]),e}(),Gl=Xl;Qn=tn.default=Gl;function Zl(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),s=n.createElement("base"),f=n.createElement("a");return n.head.appendChild(s),n.body.appendChild(f),t&&(s.href=t),f.href=e,f.href}const Kl=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Oe(e){const t=[];for(let n=0,s=e.length;n<s;n++)t.push(e[n]);return t}function zt(e,t){const s=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return s?parseFloat(s.replace("px","")):0}function Yl(e){const t=zt(e,"border-left-width"),n=zt(e,"border-right-width");return e.clientWidth+t+n}function Ql(e){const t=zt(e,"border-top-width"),n=zt(e,"border-bottom-width");return e.clientHeight+t+n}function ea(e,t={}){const n=t.width||Yl(e),s=t.height||Ql(e);return{width:n,height:s}}function eo(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Ve=16384;function to(e){(e.width>Ve||e.height>Ve)&&(e.width>Ve&&e.height>Ve?e.width>e.height?(e.height*=Ve/e.width,e.width=Ve):(e.width*=Ve/e.height,e.height=Ve):e.width>Ve?(e.height*=Ve/e.width,e.width=Ve):(e.width*=Ve/e.height,e.height=Ve))}function At(e){return new Promise((t,n)=>{const s=new Image;s.decode=()=>t(s),s.onload=()=>t(s),s.onerror=n,s.crossOrigin="anonymous",s.decoding="async",s.src=e})}async function no(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function ao(e,t,n){const s="http://www.w3.org/2000/svg",f=document.createElementNS(s,"svg"),v=document.createElementNS(s,"foreignObject");return f.setAttribute("width",`${t}`),f.setAttribute("height",`${n}`),f.setAttribute("viewBox",`0 0 ${t} ${n}`),v.setAttribute("width","100%"),v.setAttribute("height","100%"),v.setAttribute("x","0"),v.setAttribute("y","0"),v.setAttribute("externalResourcesRequired","true"),f.appendChild(v),v.appendChild(e),no(f)}const be=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||be(n,t)};function so(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function lo(e){return Oe(e).map(t=>{const n=e.getPropertyValue(t),s=e.getPropertyPriority(t);return`${t}: ${n}${s?" !important":""};`}).join(" ")}function oo(e,t,n){const s=`.${e}:${t}`,f=n.cssText?so(n):lo(n);return document.createTextNode(`${s}{${f}}`)}function Hn(e,t,n){const s=window.getComputedStyle(e,n),f=s.getPropertyValue("content");if(f===""||f==="none")return;const v=Kl();try{t.className=`${t.className} ${v}`}catch{return}const u=document.createElement("style");u.appendChild(oo(v,n,s)),t.appendChild(u)}function io(e,t){Hn(e,t,":before"),Hn(e,t,":after")}const Fn="application/font-woff",qn="image/jpeg",ro={woff:Fn,woff2:Fn,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:qn,jpeg:qn,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function uo(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function nn(e){const t=uo(e).toLowerCase();return ro[t]||""}function co(e){return e.split(/,/)[1]}function en(e){return e.search(/^(data:)/)!==-1}function ta(e,t){return`data:${t};base64,${e}`}async function na(e,t,n){const s=await fetch(e,t);if(s.status===404)throw new Error(`Resource "${s.url}" not found`);const f=await s.blob();return new Promise((v,u)=>{const d=new FileReader;d.onerror=u,d.onloadend=()=>{try{v(n({res:s,result:d.result}))}catch(C){u(C)}},d.readAsDataURL(f)})}const Yt={};function fo(e,t,n){let s=e.replace(/\?.*/,"");return n&&(s=e),/ttf|otf|eot|woff2?/i.test(s)&&(s=s.replace(/.*\//,"")),t?`[${t}]${s}`:s}async function an(e,t,n){const s=fo(e,t,n.includeQueryParams);if(Yt[s]!=null)return Yt[s];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let f;try{const v=await na(e,n.fetchRequestInit,({res:u,result:d})=>(t||(t=u.headers.get("Content-Type")||""),co(d)));f=ta(v,t)}catch(v){f=n.imagePlaceholder||"";let u=`Failed to fetch resource: ${e}`;v&&(u=typeof v=="string"?v:v.message),u&&console.warn(u)}return Yt[s]=f,f}async function vo(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):At(t)}async function _o(e,t){if(e.currentSrc){const v=document.createElement("canvas"),u=v.getContext("2d");v.width=e.clientWidth,v.height=e.clientHeight,u==null||u.drawImage(e,0,0,v.width,v.height);const d=v.toDataURL();return At(d)}const n=e.poster,s=nn(n),f=await an(n,s,t);return At(f)}async function po(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await It(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function mo(e,t){return be(e,HTMLCanvasElement)?vo(e):be(e,HTMLVideoElement)?_o(e,t):be(e,HTMLIFrameElement)?po(e):e.cloneNode(!1)}const go=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function ho(e,t,n){var s,f;let v=[];return go(e)&&e.assignedNodes?v=Oe(e.assignedNodes()):be(e,HTMLIFrameElement)&&(!((s=e.contentDocument)===null||s===void 0)&&s.body)?v=Oe(e.contentDocument.body.childNodes):v=Oe(((f=e.shadowRoot)!==null&&f!==void 0?f:e).childNodes),v.length===0||be(e,HTMLVideoElement)||await v.reduce((u,d)=>u.then(()=>It(d,n)).then(C=>{C&&t.appendChild(C)}),Promise.resolve()),t}function yo(e,t){const n=t.style;if(!n)return;const s=window.getComputedStyle(e);s.cssText?(n.cssText=s.cssText,n.transformOrigin=s.transformOrigin):Oe(s).forEach(f=>{let v=s.getPropertyValue(f);f==="font-size"&&v.endsWith("px")&&(v=`${Math.floor(parseFloat(v.substring(0,v.length-2)))-.1}px`),be(e,HTMLIFrameElement)&&f==="display"&&v==="inline"&&(v="block"),f==="d"&&t.getAttribute("d")&&(v=`path(${t.getAttribute("d")})`),n.setProperty(f,v,s.getPropertyPriority(f))})}function bo(e,t){be(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),be(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function wo(e,t){if(be(e,HTMLSelectElement)){const n=t,s=Array.from(n.children).find(f=>e.value===f.getAttribute("value"));s&&s.setAttribute("selected","")}}function ko(e,t){return be(t,Element)&&(yo(e,t),io(e,t),bo(e,t),wo(e,t)),t}async function xo(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const s={};for(let v=0;v<n.length;v++){const d=n[v].getAttribute("xlink:href");if(d){const C=e.querySelector(d),P=document.querySelector(d);!C&&P&&!s[d]&&(s[d]=await It(P,t,!0))}}const f=Object.values(s);if(f.length){const v="http://www.w3.org/1999/xhtml",u=document.createElementNS(v,"svg");u.setAttribute("xmlns",v),u.style.position="absolute",u.style.width="0",u.style.height="0",u.style.overflow="hidden",u.style.display="none";const d=document.createElementNS(v,"defs");u.appendChild(d);for(let C=0;C<f.length;C++)d.appendChild(f[C]);e.appendChild(u)}return e}async function It(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(s=>mo(s,t)).then(s=>ho(e,s,t)).then(s=>ko(e,s)).then(s=>xo(s,t))}const aa=/url\((['"]?)([^'"]+?)\1\)/g,Co=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,So=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Vo(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function $o(e){const t=[];return e.replace(aa,(n,s,f)=>(t.push(f),n)),t.filter(n=>!en(n))}async function Eo(e,t,n,s,f){try{const v=n?Zl(t,n):t,u=nn(t);let d;if(f){const C=await f(v);d=ta(C,u)}else d=await an(v,u,s);return e.replace(Vo(t),`$1${d}$3`)}catch{}return e}function zo(e,{preferredFontFormat:t}){return t?e.replace(So,n=>{for(;;){const[s,,f]=Co.exec(n)||[];if(!f)return"";if(f===t)return`src: ${s};`}}):e}function sa(e){return e.search(aa)!==-1}async function la(e,t,n){if(!sa(e))return e;const s=zo(e,n);return $o(s).reduce((v,u)=>v.then(d=>Eo(d,u,t,n)),Promise.resolve(s))}async function $t(e,t,n){var s;const f=(s=t.style)===null||s===void 0?void 0:s.getPropertyValue(e);if(f){const v=await la(f,null,n);return t.style.setProperty(e,v,t.style.getPropertyPriority(e)),!0}return!1}async function Ao(e,t){await $t("background",e,t)||await $t("background-image",e,t),await $t("mask",e,t)||await $t("mask-image",e,t)}async function Io(e,t){const n=be(e,HTMLImageElement);if(!(n&&!en(e.src))&&!(be(e,SVGImageElement)&&!en(e.href.baseVal)))return;const s=n?e.src:e.href.baseVal,f=await an(s,nn(s),t);await new Promise((v,u)=>{e.onload=v,e.onerror=u;const d=e;d.decode&&(d.decode=v),d.loading==="lazy"&&(d.loading="eager"),n?(e.srcset="",e.src=f):e.href.baseVal=f})}async function Lo(e,t){const s=Oe(e.childNodes).map(f=>oa(f,t));await Promise.all(s).then(()=>e)}async function oa(e,t){be(e,Element)&&(await Ao(e,t),await Io(e,t),await Lo(e,t))}function To(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const s=t.style;return s!=null&&Object.keys(s).forEach(f=>{n[f]=s[f]}),e}const Dn={};async function Jn(e){let t=Dn[e];if(t!=null)return t;const s=await(await fetch(e)).text();return t={url:e,cssText:s},Dn[e]=t,t}async function Wn(e,t){let n=e.cssText;const s=/url\(["']?([^"')]+)["']?\)/g,v=(n.match(/url\([^)]+\)/g)||[]).map(async u=>{let d=u.replace(s,"$1");return d.startsWith("https://")||(d=new URL(d,e.url).href),na(d,t.fetchRequestInit,({result:C})=>(n=n.replace(u,`url(${C})`),[u,C]))});return Promise.all(v).then(()=>n)}function Xn(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let s=e.replace(n,"");const f=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const C=f.exec(s);if(C===null)break;t.push(C[0])}s=s.replace(f,"");const v=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,u="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",d=new RegExp(u,"gi");for(;;){let C=v.exec(s);if(C===null){if(C=d.exec(s),C===null)break;v.lastIndex=d.lastIndex}else d.lastIndex=v.lastIndex;t.push(C[0])}return t}async function Ro(e,t){const n=[],s=[];return e.forEach(f=>{if("cssRules"in f)try{Oe(f.cssRules||[]).forEach((v,u)=>{if(v.type===CSSRule.IMPORT_RULE){let d=u+1;const C=v.href,P=Jn(C).then(S=>Wn(S,t)).then(S=>Xn(S).forEach(D=>{try{f.insertRule(D,D.startsWith("@import")?d+=1:f.cssRules.length)}catch(w){console.error("Error inserting rule from remote css",{rule:D,error:w})}})).catch(S=>{console.error("Error loading remote css",S.toString())});s.push(P)}})}catch(v){const u=e.find(d=>d.href==null)||document.styleSheets[0];f.href!=null&&s.push(Jn(f.href).then(d=>Wn(d,t)).then(d=>Xn(d).forEach(C=>{u.insertRule(C,f.cssRules.length)})).catch(d=>{console.error("Error loading remote stylesheet",d)})),console.error("Error inlining remote css file",v)}}),Promise.all(s).then(()=>(e.forEach(f=>{if("cssRules"in f)try{Oe(f.cssRules||[]).forEach(v=>{n.push(v)})}catch(v){console.error(`Error while reading CSS rules from ${f.href}`,v)}}),n))}function Po(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>sa(t.style.getPropertyValue("src")))}async function Oo(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Oe(e.ownerDocument.styleSheets),s=await Ro(n,t);return Po(s)}async function jo(e,t){const n=await Oo(e,t);return(await Promise.all(n.map(f=>{const v=f.parentStyleSheet?f.parentStyleSheet.href:null;return la(f.cssText,v,t)}))).join(`
`)}async function No(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await jo(e,t);if(n){const s=document.createElement("style"),f=document.createTextNode(n);s.appendChild(f),e.firstChild?e.insertBefore(s,e.firstChild):e.appendChild(s)}}async function Mo(e,t={}){const{width:n,height:s}=ea(e,t),f=await It(e,t,!0);return await No(f,t),await oa(f,t),To(f,t),await ao(f,n,s)}async function ia(e,t={}){const{width:n,height:s}=ea(e,t),f=await Mo(e,t),v=await At(f),u=document.createElement("canvas"),d=u.getContext("2d"),C=t.pixelRatio||eo(),P=t.canvasWidth||n,S=t.canvasHeight||s;return u.width=P*C,u.height=S*C,t.skipAutoScale||to(u),u.style.width=`${P}`,u.style.height=`${S}`,t.backgroundColor&&(d.fillStyle=t.backgroundColor,d.fillRect(0,0,u.width,u.height)),d.drawImage(v,0,0,u.width,u.height),u}async function Uo(e,t={}){return(await ia(e,t)).toDataURL()}async function Bo(e,t={}){return(await ia(e,t)).toDataURL("image/jpeg",t.quality||1)}const Ho={key:0,class:"chat_list_message p-2 bg-[#fafbfc]"},Fo={class:"all_message mb-2 mt-2"},qo={class:"chat-list mb-2"},Do={class:"bot_info"},Jo={class:"hover_action"},Wo=["onClick"],Xo={class:"card-body"},Go={class:"media"},Zo={class:"avatar me-3"},Ko=a("img",{src:Ze,alt:""},null,-1),Yo={class:"media-body overflow-hidden"},Qo={class:"d-flex align-items-center mb-1"},ei={key:0,class:"text-truncate mb-0 me-auto"},ti={key:1,class:"text-truncate mb-0 me-auto"},ni=["innerHTML"],ai={key:0,class:"avatar_preset"},si={class:"border-t dark:border-t-neutral-800"},li={class:"p-2 bg-n-6 rounded-xl"},oi={class:"flex items-center px-2.5 py-2.5 pb-4.5"},ii={class:"relative w-10 h-10"},ri=a("div",{class:"absolute -right-0.75 -bottom-0.75 w-4.5 h-4.5 rounded-full border-4 border-n-6 bg-green-300 top-1 border-green-300"},null,-1),ui={class:"ml-1 mr-2"},ci={class:"base2 font-semibold text-n-1 text-truncate"},di={class:"caption1 font-semibold text-n-3/50 text-truncate"},fi={class:"shrnik-0 ml-auto self-start px-2 bg-primary-2 rounded-lg caption1 font-bold text-n-7 pack_tag_vip"},vi={class:"nav-wraper"},_i={class:"user-info-box"},pi={class:"user-dis"},mi=["src"],gi={class:"nickname flex-wrap ml-1"},hi={class:"shrnik-0 px-3 bg-primary-2 rounded-lg caption1 font-bold text-n-7 pack_tag_vip"},yi={class:"use-info user-type"},bi=a("span",{class:"number"},"问答 ",-1),wi={class:"use-info user-type"},ki=a("span",{class:"number"},"绘画 ",-1),xi={class:"use-info"},Ci=a("span",{class:"number"},"额度",-1),Si=a("div",{name:"quit",class:"i-svg quit-icon-blue"},[a("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("g",{id:"Group 1000007605"},[a("rect",{id:"Rectangle 10",x:"15.0001",y:"9.41418",width:"2",height:"6",rx:"1",transform:"rotate(-45 15.0001 9.41418)",fill:"#057cff"}),a("rect",{id:"Rectangle 11",x:"19.2427",y:"10.8284",width:"2",height:"6",rx:"1",transform:"rotate(45 19.2427 10.8284)",fill:"#057cff"}),a("rect",{id:"Rectangle 12",x:"19",y:"11",width:"2",height:"11",rx:"1",transform:"rotate(90 19 11)",fill:"#057cff"}),a("path",{id:"Rectangle 11218",d:"M17 3H7C5.89543 3 5 3.89543 5 5V19C5 20.1046 5.89543 21 7 21H17",stroke:"#057cff","stroke-width":"2","stroke-linecap":"round"})])])],-1),Vi={key:1,class:"flex items-center px-2.5 py-2.5 pb-4.5"},$i={class:"relative w-10 h-10"},Ei=a("div",{class:"absolute -right-0.75 -bottom-0.75 w-4.5 h-4.5 rounded-full border-4 border-n-6 bg-green-300 top-1 border-green-300"},null,-1),zi=a("div",{class:"ml-1 mr-2"},[a("div",{class:"base2 font-semibold text-n-1 text-truncate"},"请先登录")],-1),Ai={class:"shrnik-0 ml-auto self-start px-3 bg-primary-2 rounded-lg caption1 font-bold text-n-7 pack_tag_vip"},Ii={key:0},Li={key:1},Ti={class:"main"},Ri={class:"chat-body"},Pi={class:"chat-header border-bottom md:py-3 sm:py-3 py-2"},Oi={class:"container-xxl"},ji={class:"row align-items-center"},Ni={class:"col-6 col-xl-4 d-flex"},Mi={class:"media align-items-center"},Ui={key:0,class:"show-user-detail"},Bi=a("img",{src:Ze,alt:"avatar",class:"rounded-full w-100"},null,-1),Hi={key:1,class:"show-user-detail"},Fi=["src"],qi={key:1,src:Ze,alt:"avatar",class:"rounded-full w-100"},Di={class:"media-body overflow-hidden"},Ji={class:"d-flex align-items-center mb-1"},Wi={key:0,class:"text-truncate mb-0 me-auto"},Xi={key:1,class:"mobile_width_5rem text-truncate mb-0 me-auto w-40"},Gi={class:"text-truncate"},Zi={key:0},Ki={key:1},Yi={key:2},Qi={class:"col-6 col-xl-8 text-end"},er={class:"nav justify-content-end align-items-center mobile_show"},tr={class:"nav-item list-inline-item d-md-block me-2"},nr={class:"css-htwhyh nav-link text-muted","data-toggle":"pill",href:"javascript:;"},ar={class:"nav justify-content-end align-items-center mobile_none"},sr={class:"nav-item list-inline-item d-md-block me-2"},lr={key:0,class:"nav-item list-inline-item d-md-block me-2"},or={class:"nav-item list-inline-item d-md-block me-2"},ir={class:"nav-item list-inline-item d-md-block me-2"},rr={class:"chat-content"},ur={class:"flex flex-column"},cr={key:0,class:"m-auto rounded-md p-4"},dr={class:"mb-6 rounded px-4 py-2 text-center text-3xl font-bold"},fr={class:"w-full md:min-w-[450px]"},vr={class:"wrap_portal"},_r=["onClick"],pr={class:"card_b__top"},mr={class:"card_b__bottom"},gr={class:"line-clamp-2"},hr={class:"line-clamp-5"},yr=a("p",{class:"mt-4 text-center text-sm text-neutral-400"}," 点击以上话题，快速与我对话",-1),br={key:0,class:"container-xxl"},wr={class:"list-unstyled pt-5"},kr={key:0,class:"d-flex message right"},xr={class:"message-body"},Cr={class:"date-time text-muted"},Sr={class:"message-row d-flex align-items-center justify-content-end"},Vr=["innerHTML"],$r={key:1,class:"d-flex message"},Er={class:"mr-lg-3 me-2"},zr=["src"],Ar={key:1,src:Ze,alt:"avatar",class:"rounded-full w-100"},Ir={class:"message-body"},Lr={class:"date-time text-muted"},Tr={class:"message-row relative d-flex flex-column align-items-start"},Rr=["innerHTML"],Pr={class:"message_content_footer"},Or=["onClick"],jr={class:"ant_hide"},Nr=["onClick"],Mr=a("span",{class:"ant_hide"},"重新生成",-1),Ur=["onClick"],Br=a("span",{class:"ant_hide"},"复制答案",-1),Hr=["onClick"],Fr=a("span",{class:"ant_hide"},"导出Word",-1),qr=["onClick"],Dr=a("span",{class:"ant_hide"},"导出PDF",-1),Jr={class:"speak btn z-10 new_ant_btn h-30"},Wr=a("span",{class:"ant_hide"},"删除",-1),Xr={class:"chat-footer border-top py-xl-2 py-lg-2 py-2"},Gr={class:"container-xxl"},Zr={class:"row"},Kr={class:"col-12"},Yr={key:1},Qr=a("br",null,null,-1),eu={class:"dialog-footer"},tu=a("h6",{class:"mb-3"},"大模型选择",-1),nu=a("h6",{class:"mb-3"},"模型选择",-1),au=a("h6",{class:"mb-3"},"知识库选择",-1),su={class:"knowledge_choose"},lu={key:0,class:"knowledge_list"},ou={style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},iu={style:{display:"flex",alignItems:"center",color:"#1D2129"}},ru=a("svg",{t:"1692008373063",class:"icon mr-2",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4045",width:"24",height:"24"},[a("path",{d:"M372.363636 744.727273h-76.101818a54.225455 54.225455 0 0 1-50.036363-30.487273 40.727273 40.727273 0 0 1-4.887273-23.272727 151.738182 151.738182 0 0 0-23.272727-82.152728 152.436364 152.436364 0 0 0-20.945455-24.901818 351.883636 351.883636 0 0 1-41.890909-56.087272 302.545455 302.545455 0 0 1-27.927273-54.69091A180.363636 180.363636 0 0 1 116.363636 418.909091a246.923636 246.923636 0 0 1 6.050909-61.44 222.021818 222.021818 0 0 1 38.167273-84.712727A268.8 268.8 0 0 1 261.585455 186.181818a240.174545 240.174545 0 0 1 54.690909-18.385454 286.952727 286.952727 0 0 1 69.818181-5.585455 256 256 0 0 1 93.09091 21.178182 251.810909 251.810909 0 0 1 52.363636 32.349091 281.6 281.6 0 0 1 60.974545 67.723636 229.934545 229.934545 0 0 1 31.185455 76.334546 222.254545 222.254545 0 0 1 4.654545 66.792727 184.32 184.32 0 0 1-13.963636 55.621818 312.32 312.32 0 0 1-44.683636 77.265455 328.145455 328.145455 0 0 1-25.134546 28.858181 114.269091 114.269091 0 0 0-23.272727 34.676364 165.701818 165.701818 0 0 0-14.196364 40.261818c-1.163636 8.610909-1.163636 16.989091-2.094545 25.367273a124.741818 124.741818 0 0 1-2.56 18.385455 51.665455 51.665455 0 0 1-24.901818 29.323636 58.88 58.88 0 0 1-29.323637 7.214545z m-26.996363-512c-7.68 0-15.592727 1.396364-23.272728 2.792727a151.738182 151.738182 0 0 0-52.596363 18.850909 171.752727 171.752727 0 0 0-39.330909 31.418182 165.003636 165.003636 0 0 0-30.72 45.149091A169.658182 169.658182 0 0 0 186.181818 397.963636a19.549091 19.549091 0 1 0 39.098182 2.094546v-9.774546a116.363636 116.363636 0 0 1 7.447273-34.676363 131.956364 131.956364 0 0 1 46.545454-59.578182 118.458182 118.458182 0 0 1 66.792728-24.436364 85.178182 85.178182 0 0 0 13.265454-1.163636 16.523636 16.523636 0 0 0 13.498182-10.938182 25.6 25.6 0 0 0 0-13.265454 16.523636 16.523636 0 0 0-14.894546-13.498182z m-73.541818 581.818182h201.076363a15.127273 15.127273 0 0 1 15.825455 13.730909v42.356363a15.127273 15.127273 0 0 1-15.825455 13.730909h-201.076363a15.127273 15.127273 0 0 1-15.825455-13.730909v-42.356363a15.127273 15.127273 0 0 1 15.825455-13.730909z",fill:"#3F58FD",opacity:".3","p-id":"4046"}),a("path",{d:"M605.090909 804.538182h-90.298182A63.767273 63.767273 0 0 1 455.447273 768a50.734545 50.734545 0 0 1-5.818182-26.763636 186.181818 186.181818 0 0 0-27.927273-99.374546 181.992727 181.992727 0 0 0-24.669091-30.254545 415.883636 415.883636 0 0 1-49.803636-67.723637 378.181818 378.181818 0 0 1-33.28-66.56 226.443636 226.443636 0 0 1-11.403636-68.421818 298.123636 298.123636 0 0 1 7.214545-74.705454 266.24 266.24 0 0 1 46.545455-101.003637 319.767273 319.767273 0 0 1 119.621818-103.796363 291.374545 291.374545 0 0 1 65.163636-23.272728 331.170909 331.170909 0 0 1 81.687273-6.516363 281.134545 281.134545 0 0 1 170.356363 65.629091 338.850909 338.850909 0 0 1 72.378182 82.152727 279.272727 279.272727 0 0 1 37.003637 93.090909 276.014545 276.014545 0 0 1 5.12 80.058182 235.054545 235.054545 0 0 1-16.523637 67.490909 389.12 389.12 0 0 1-83.083636 128.232727 147.083636 147.083636 0 0 0-27.229091 42.123637 202.24 202.24 0 0 0-16.756364 48.872727c-1.629091 10.24-1.629091 20.48-2.56 30.487273a147.781818 147.781818 0 0 1-3.258181 23.272727 60.043636 60.043636 0 0 1-29.556364 35.374545 66.327273 66.327273 0 0 1-34.443636 9.076364z m-18.618182-626.734546c-9.774545 0-19.549091 1.861818-29.090909 3.490909a192.930909 192.930909 0 0 0-65.396363 23.272728A209.454545 209.454545 0 0 0 442.181818 243.665455a194.327273 194.327273 0 0 0-37.934545 55.854545 211.781818 211.781818 0 0 0-16.756364 82.850909 25.134545 25.134545 0 0 0 8.378182 19.781818 23.272727 23.272727 0 0 0 20.712727 5.818182 25.134545 25.134545 0 0 0 19.549091-23.272727V372.363636a144.523636 144.523636 0 0 1 8.610909-43.054545A164.538182 164.538182 0 0 1 502.458182 256a146.850909 146.850909 0 0 1 82.850909-30.021818l16.756364-1.396364a20.48 20.48 0 0 0 16.523636-13.730909 25.134545 25.134545 0 0 0 0-16.523636 20.48 20.48 0 0 0-18.152727-16.523637zM488.727273 861.090909h232.727272a18.152727 18.152727 0 0 1 18.152728 18.152727v56.32a18.385455 18.385455 0 0 1-18.152728 18.618182H488.727273a18.385455 18.385455 0 0 1-18.152728-18.385454v-56.785455A18.152727 18.152727 0 0 1 488.727273 861.090909z",fill:"#3F58FD","p-id":"4047"})],-1),uu=a("div",{className:"custom-checkbox-card-mask"},[a("div",{className:"custom-checkbox-card-mask-dot"})],-1),cu={className:"custom-checkbox-card-title"},du={class:"normal_setting"},fu={class:"flex items-center justify-between"},vu=a("div",{class:"w-[150px]"},[a("p",null,"上下文数量")],-1),_u={class:"flex w-[200px] items-center"},pu=a("p",{class:"mt-2 text-xs text-slate-500"},"更多的上下文会使问答有联动性，能够结合上下精准回答",-1),mu={class:"flex items-center justify-between mt-4"},gu=a("div",{class:"w-[150px]"},[a("p",null,"话题精准度")],-1),hu={class:"flex w-[200px] items-center"},yu=a("p",{class:"mt-2 text-xs text-slate-500"},"正常数值0.8,数值越高每次回答内容更随机",-1),bu={class:"mb-3 flex align-items-center justify-content-between"},wu={class:"dialog-footer"},ku={key:0,class:"chat_list_message p-2 bg-[#fafbfc]"},xu={class:"all_message mb-2 mt-2"},Cu={class:"chat-list mb-2"},Su={class:"bot_info"},Vu={class:"hover_action"},$u=["onClick"],Eu={class:"card-body"},zu={class:"media"},Au={class:"avatar me-3"},Iu=a("img",{src:Ze,alt:""},null,-1),Lu={class:"media-body overflow-hidden"},Tu={class:"d-flex align-items-center mb-1"},Ru={key:0,class:"text-truncate mb-0 me-auto"},Pu={key:1,class:"text-truncate mb-0 me-auto"},Ou=["innerHTML"],ju={class:"mb-3 dark:border-t-neutral-800"},Nu={class:"p-2 bg-n-6 rounded-xl"},Mu={class:"flex items-center px-2.5 py-2.5 pb-4.5"},Uu={class:"relative w-10 h-10"},Bu=["src"],Hu=a("div",{class:"absolute -right-0.75 -bottom-0.75 w-4.5 h-4.5 rounded-full border-4 border-n-6 bg-green-300 top-1 border-green-300"},null,-1),Fu={class:"ml-1 mr-2"},qu={class:"base2 font-semibold text-n-1 text-truncate"},Du={class:"caption1 font-semibold text-n-3/50 text-truncate"},Ju={class:"shrnik-0 ml-auto self-start px-3 bg-primary-2 rounded-lg caption1 font-bold text-n-7 pack_tag_vip"},Wu={class:"nav-wraper"},Xu={class:"user-info-box"},Gu={class:"user-dis"},Zu={class:"nickname flex-wrap ml-1"},Ku={class:"shrnik-0 px-3 bg-primary-2 rounded-lg caption1 font-bold text-n-7 pack_tag_vip"},Yu={class:"use-info user-type"},Qu=a("span",{class:"number"},"问答 ",-1),ec={class:"use-info user-type"},tc=a("span",{class:"number"},"绘画 ",-1),nc={class:"use-info"},ac=a("span",{class:"number"},"额度",-1),sc=a("div",{name:"quit",class:"i-svg quit-icon-blue"},[a("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("g",{id:"Group 1000007605"},[a("rect",{id:"Rectangle 10",x:"15.0001",y:"9.41418",width:"2",height:"6",rx:"1",transform:"rotate(-45 15.0001 9.41418)",fill:"#057cff"}),a("rect",{id:"Rectangle 11",x:"19.2427",y:"10.8284",width:"2",height:"6",rx:"1",transform:"rotate(45 19.2427 10.8284)",fill:"#057cff"}),a("rect",{id:"Rectangle 12",x:"19",y:"11",width:"2",height:"11",rx:"1",transform:"rotate(90 19 11)",fill:"#057cff"}),a("path",{id:"Rectangle 11218",d:"M17 3H7C5.89543 3 5 3.89543 5 5V19C5 20.1046 5.89543 21 7 21H17",stroke:"#057cff","stroke-width":"2","stroke-linecap":"round"})])])],-1),lc={key:1,class:"flex items-center px-2.5 py-2.5 pb-4.5"},oc={class:"relative w-10 h-10"},ic=a("div",{class:"absolute -right-0.75 -bottom-0.75 w-4.5 h-4.5 rounded-full border-4 border-n-6 bg-green-300 top-1 border-green-300"},null,-1),rc=a("div",{class:"ml-1 mr-2"},[a("div",{class:"base2 font-semibold text-n-1 text-truncate"},"请先登录")],-1),uc={class:"shrnik-0 ml-auto self-start px-3 bg-primary-2 rounded-lg caption1 font-bold text-n-7 pack_tag_vip"},cc={key:0},dc={key:1},fc=["innerHTML"],vc={class:"export_message"},_c={class:"flex justify-content-center"},pc={class:"main all_message_export"},mc={class:"chat-body bg-white border mt-2 h-full"},gc={class:"chat-content overflow-visible"},hc={style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},yc={style:{display:"flex",alignItems:"center",color:"#1D2129"}},bc=a("img",{src:Ze,alt:"",class:"mr-2 w-12"},null,-1),wc={class:"flex flex-column"},kc={key:0,class:"container-xxl"},xc={class:"list-unstyled pt-5"},Cc={class:"d-flex message right"},Sc={class:"message-body"},Vc={class:"date-time text-muted"},$c={class:"message-row d-flex align-items-center justify-content-end"},Ec=["innerHTML"],zc={class:"d-flex message"},Ac={class:"mr-lg-3 me-2"},Ic=a("img",{src:Ze,alt:"avatar",class:"rounded-full w-100"},null,-1),Lc={class:"message-body"},Tc={class:"date-time text-muted"},Rc={class:"message-row relative d-flex flex-column align-items-start"},Pc=["innerHTML"],id=qe({__name:"ai_chat",setup(e){const t=b(!1),n=Gn(),s=b(!0),f=c=>jn({linkify:!0,highlight:(l,g)=>{if(g&&Nn.getLanguage(g))try{return`<pre class="hljs"><span ref="preCopy" class="pre_copy">Copy</span><code>${Nn.highlight(l,{language:g,ignoreIllegals:!0}).value}</code></pre>`}catch{}return`<pre class="hljs"><span ref="preCopy" class="pre_copy">Copy</span><code>${jn().utils.escapeHtml(l)}</code></pre>`},breaks:!0}).use(Ts).render(c);Qa({title:"AI聊天 - "+n.setting.title,meta:[{name:"description",content:n.setting.description},{name:"keywords",content:n.setting.keywords}]});const v=b(!1),u=()=>{v.value=!0},d=b(!1),C=()=>{v.value=!1},P=b(!1),S=()=>{P.value=!0},D=()=>{P.value=!1},w=b(n.setting.gpt_new_qs_open=="1"?"gpt":n.setting.fly_qs_open=="1"?"fly":"baidu");Qt(w,c=>{c=="gpt"?(le.value=Be.value[0].model,ye.value=Be.value[0].title):c=="fly"?(le.value="xf",ye.value="XF-Cloud"):c=="baidu"&&(le.value="ErnieBot",ye.value="Ernie-Bot")});const z=Ft("token"),$=es(),J=b([]),x=b(0),p=b([]),re=b(!1),H=b(!1),Le=b(!1),ee=b([]),Ee=b({}),je=b(!1),pe=b(1),X=b(8),k=b(0),B=b(!1),ae=b(3),we=b(.8),me=b([]),ie=b([]),Pe=b(!1),Ne=b(1),Re=b(6),Me=b(0),Ue=()=>{bs({page:Ne.value,limit:Re.value}).then(c=>{me.value=c._rawValue.data,Me.value=c._rawValue.count}).catch(c=>{console.log(c)})},st=c=>{Ne.value=c,Ue()},U=()=>{Pe.value=!0,Ue()},L=c=>{ie.value=[];for(let l=0;l<c.length;l++)for(let g=0;g<me.value.length;g++)me.value[g].id==c[l]&&ie.value.push(me.value[g])},T=c=>{for(let l=0;l<ie.value.length;l++)ie.value[l].id==c&&ie.value.splice(l,1);for(let l=0;l<N.value.length;l++)N.value[l]==c&&N.value.splice(l,1)},E=()=>{$.push("/knowledge")},N=b([]),W=c=>{Cs({content:c}).then(l=>{const g=new Blob([l._rawValue],{type:"application/pdf"});saveAs(g,"example.pdf")})},ke=c=>{Ps(c).then(l=>{Rs.saveAs(l,"answer.docx")})};ts(async()=>{await ns(),ca()});const ze=b(),pt=b([]),ra=()=>{Ls().then(c=>{pt.value=c._rawValue.data})},Lt=()=>{je.value=!0,ra()},ua=c=>{Ss({avatar_preset_id:c,session_id:x.value}).then(l=>{je.value=!1,O.success("头像修改成功"),ge()})},ca=()=>{ze.value=new Qn,ze.value.setLanguage("zh-CN"),ze.value.init().then(()=>{})},lt=b(!1),da=c=>{ze.value.cancel(),lt.value=!0,ze.value.speak({text:c,listeners:{onend:()=>{ze.value.cancel()}}}).then(()=>{lt.value=!1,O.success("语音播放完成")})},fa=()=>{ze.value.cancel(),lt.value=!1};(()=>{{const c=new Nl(".pre_copy",{target:l=>l.nextElementSibling});c.on("success",l=>{l.trigger.innerText==="Copy"&&(l.trigger.innerText="Copied",O.success("复制成功"),setTimeout(()=>{l.trigger.innerText="Copy"},1e3))}),c.on("error",l=>{O.error("复制失败")})}})();const ot=b(0),Tt=b(0),ge=()=>{B.value=!0,Le.value=!0,Ln({page:pe.value,limit:X.value}).then(c=>{J.value=c._rawValue.data,Ee.value=c._rawValue.m_last,k.value=c._rawValue.count,va.value=c._rawValue.max_session,B.value=!1,Le.value=!1}).catch(c=>{Le.value=!1,B.value=!1,console.log(c)})},xe=b({}),De=b("free"),sn=c=>{let l=document.querySelector(".all_message_export");c=="PNG"?Uo(l,{cacheBust:!1,useCorsEverywhereProxy:!0}).then(function(g){const G=document.createElement("a");G.href=g,G.download="message.png",G.click()}).catch(function(g){console.error("oops, something went wrong!",g)}):Bo(l).then(function(g){const G=document.createElement("a");G.download="message.jpeg",G.href=g,G.click()}).catch(function(g){console.error("oops, something went wrong!",g)})},Rt=b(0),Pt=b(0),it=b("free"),mt=()=>{ws().then(c=>{ot.value=c._rawValue.last_msg,Tt.value=c._rawValue.last_draw,Rt.value=c._rawValue.total_msg,Pt.value=c._rawValue.total_draw,xe.value=c._rawValue.user_info,De.value=c._rawValue.vip_level,it.value=c._rawValue.vip_type}).catch(c=>{console.log(c)})},gt=c=>c=="free"?"免费版":c=="day"?"每日":c=="month"?"每月":c=="total"?"有效期内":"免费版",ln=()=>{z.value="",$.go(0)};z.value&&(ge(),mt(),Ue());const va=b(0),Ke=b(1),rt=b(4),on=b(!0),Be=b([]),le=b(),rn=b([]);Qt(le,c=>{if(c=="ErnieBot")ye.value="Ernie-Bot";else if(c=="ErnieBotTurbo")ye.value="Ernie-Bot-turbo";else if(c=="xf")ye.value="XF-Cloud";else{const l=Object.values(Be.value);for(let g=0;g<l.length;g++)l[g].model==c&&(ye.value=l[g].title)}}),(()=>{Tn({page:Ke.value,limit:rt.value}).then(c=>{ee.value=c._rawValue.data,rn.value=c._rawValue.p_data,et.value=c._rawValue.count,Be.value=c._rawValue.model,w.value=="gpt"?le.value=c._rawValue.model[0].model:w.value=="fly"?le.value="xf":w.value=="baidu"&&(le.value="ErnieBot"),w.value=="gpt"?ye.value=c._rawValue.model[0].title:w.value=="fly"?ye.value="xf":w.value=="baidu"&&(ye.value="ErnieBot")}).catch(c=>{console.log(c)})})();const un=c=>{B.value=!0,He.value?Rn({search:He.value,page:c,limit:X.value}).then(l=>{pe.value=c,J.value=l._rawValue.data,k.value=l._rawValue.count,B.value=!1,O.success("搜索完成")}).catch(l=>{O.error(l.message),B.value=!1}):Ln({page:c,limit:X}).then(l=>{pe.value=c,J.value=l._rawValue.data,k.value=l._rawValue.count,B.value=!1}).catch(l=>{B.value=!1,console.log(l)})},_a=c=>{Vs({id:c}).then(l=>{O.success("删除成功"),p.value.length==1?(x.value=0,Ae(x.value),ge()):(Ae(x.value),ge())}).catch(l=>{O.error(l.message)})},Ye=b(!1),pa=c=>{Ye.value=!0,on.value&&(ct.value?(Ke.value=c,Pn({search:ct.value,page:c,limit:rt.value}).then(l=>{Ke.value=c,ee.value=l._rawValue.data,et.value=l._rawValue.count,O.success("搜索完成"),Ye.value=!1}).catch(l=>{O.error(l.message),Ye.value=!1})):Tn({page:c,limit:rt.value}).then(l=>{Ke.value=c,ee.value=l._rawValue.data,et.value=l._rawValue.count,Ye.value=!1}).catch(l=>{console.log(l),Ye.value=!1}),on.value=!0)},Ae=c=>{x.value=c,re.value=!0,$s({session_id:c}).then(l=>{p.value=l._rawValue.data,re.value=!1,he()}).catch(l=>{re.value=!1})},ma=()=>{Es().then(c=>{ge(),Ae(c._rawValue.data)}).catch(c=>{O.error(c.message)})},Ot=b([]),ga=b(!0);(()=>{ks().then(c=>{Ot.value=c._rawValue.data,ga.value=!1}).catch(c=>{console.log(c)})})();const cn=Ft("is_read",{maxAge:60*60*24}),ut=b(!(cn.value=="on"||n.setting.notice_open!="1")),ha=()=>{ut.value=!1,cn.value="on"},he=()=>{setTimeout(()=>{let c=document.getElementsByClassName("chat-content")[0];c.style.transition="500ms",c.scrollTo({top:c.scrollHeight,behavior:"smooth"})},100)},Z=Et({message_input:""});Et({message_input:[{required:!0,message:"请输入内容",trigger:"blur"}]});const{public:{baseUrl:ht}}=ps(),yt={Authorization:`Bearer ${z.value}`,Accept:"text/event-stream"},ce=b(!0),de=b(),Ce=b("start"),ya=b(),ba=()=>{Ce.value="end",ce.value=!0,H.value=!1,Z.message_input=""},wa=c=>{Z.message_input=c,z.value?jt():Mt()};b("");const jt=async()=>{var c;if(Z.message_input=="")return O.warning("请输入内容"),!1;if(event.shiftKey)return Z.message_input+=`
`,!1;if(!z.value)return O.warning("请先登录"),u(),!1;if(H.value=!0,p.value.push({session_id:x.value,question:Z.message_input,message:"思考中..."}),he(),ft.value)zs({session_id:x.value,prompt:Z.message_input}).then(l=>{p.value[p.value.length-1].message=l._rawValue.data,he(),Z.message_input="",H.value=!1,x.value==0&&(ge(),setTimeout(()=>{x.value==0&&(x.value=Ee.value.session_id),Ae(x.value)},2e3))}).catch(l=>{p.value[p.value.length-1].message="联网错误",he(),H.value=!1});else{const l=await fetch(`${ht}api/send_bot`,{method:"POST",headers:yt,body:JSON.stringify({info:Z.message_input,session_id:x.value,scene_preset:Se.domains,model_is_select:le.value,answer_num:ae.value,answer_tem:we.value,now_choose_knowledge:N.value})});if(Ce.value="start",l&&(p.value[p.value.length-1].message=""),l.status==500)return H.value=!1,O.error("服务器错误"),!1;if(l.status==401)return H.value=!1,O.error("请先登录"),!1;if(l.status==402)return H.value=!1,p.value[p.value.length-1].message="发送次数已达上限或余额不足",O.error("发送次数已达上限或余额不足"),!1;if(l.status==403)return H.value=!1,p.value[p.value.length-1].message="禁止发送违禁词",O.error("禁止发送违禁词"),!1;let g=!1;const G=(c=l.body)==null?void 0:c.getReader(),se=({value:q})=>{let I=new TextDecoder().decode(q).split(`

`).map(y=>y.replace(/\n/g,"")),M=[];for(let y=0;y<I.length;y++){if(ce.value=!1,(I[y].slice(-2)=="]}"||I[y].slice(-2)=="l}")&&I[y].startsWith("data:"))M.push(JSON.parse(I[y].replace("data:","")));else if(I[y].startsWith("data:")&&(I[y].slice(-2)!="]}"||I[y].slice(-2)!="l}"))de.value=I[y].replace("data:","");else if((I[y].slice(-2)=="]}"||I[y].slice(-2)=="l}")&&I[y].startsWith("data:")==!1){let Ie=de.value+=I[y];M.push(JSON.parse(Ie.replace("data:",""))),de.value=""}else I[y].includes('"error"')&&(p.value[p.value.length-1].message=JSON.parse(I[y]).error.message),de.value="";if(I[y].includes("reply_content:")&&(g=!0),g){let Te=I[y].substring(14);for(let te=0;te<Te.length;te++)setTimeout(()=>{p.value[p.value.length-1].message+=Te.charAt(te),he()},1e3)}}for(let y=0;y<M.length;y++)setTimeout(()=>{M[y].choices[0].delta.content&&(p.value[p.value.length-1].message+=M[y].choices[0].delta.content),he()},100)},oe=async()=>{const q=await(G==null?void 0:G.read());if(Ce.value=="end")return console.log("end"),Ce.value="start",G==null||G.cancel(),!1;q!=null&&q.done?(console.log("done"),ce.value=!0,mt(),H.value=!1,Z.message_input="",x.value==0&&(ge(),setTimeout(()=>{x.value==0&&(x.value=Ee.value.session_id),Ae(x.value)},2e3))):(H.value=!0,ce.value=!1,se(q),await oe())};await oe()}},Nt=Ft("message");n.setting.no_login_aiqs=="1"&&!z.value&&Nt.value&&(p.value=Nt.value);const Mt=async()=>{var se;if(Z.message_input=="")return O.warning("请输入内容"),!1;if(event.shiftKey)return Z.message_input+=`
`,!1;H.value=!0,p.value.push({session_id:x.value,question:Z.message_input,message:"思考中..."}),he();const c=await fetch(`${ht}api/no_send_bot`,{method:"POST",headers:yt,body:JSON.stringify({info:Z.message_input,session_id:x.value,model_select:le.value,scene_preset:Se.domains,answer_tem:we.value})});if(Ce.value="start",c&&(p.value[p.value.length-1].message=""),c.status==500)return H.value=!1,O.error("服务器错误"),!1;if(c.status==402)return H.value=!1,p.value[p.value.length-1].message="未登录用户提问达到上限,,请登录继续免费使用",O.error("未登录用户提问达到上限,请登录继续免费使用"),!1;if(c.status==403)return H.value=!1,p.value[p.value.length-1].message="禁止发送违禁词",O.error("禁止发送违禁词"),!1;const l=(se=c.body)==null?void 0:se.getReader(),g=({value:oe})=>{let Q=new TextDecoder().decode(oe).split(`

`).map(M=>M.replace(/\n/g,"")),I=[];for(let M=0;M<Q.length;M++)if(ce.value=!1,(Q[M].slice(-2)=="]}"||Q[M].slice(-2)=="l}")&&Q[M].startsWith("data:"))I.push(JSON.parse(Q[M].replace("data:","")));else if(Q[M].startsWith("data:")&&(Q[M].slice(-2)!="]}"||Q[M].slice(-2)!="l}"))de.value=Q[M].replace("data:","");else if((Q[M].slice(-2)=="]}"||Q[M].slice(-2)=="l}")&&Q[M].startsWith("data:")==!1){let y=de.value+=Q[M];I.push(JSON.parse(y.replace("data:",""))),de.value=""}else Q[M].includes('"error"')&&(p.value[p.value.length-1].message=JSON.parse(Q[M]).error.message),de.value="";for(let M=0;M<I.length;M++)setTimeout(()=>{I[M].choices[0].delta.content&&(p.value[p.value.length-1].message+=I[M].choices[0].delta.content),he()},100)},G=async()=>{const oe=await(l==null?void 0:l.read());if(Ce.value=="end")return console.log("end"),Ce.value="start",l==null||l.cancel(),!1;oe!=null&&oe.done?(console.log("done"),ce.value=!0,H.value=!1,Z.message_input="",Nt.value=p.value):(H.value=!0,ce.value=!1,g(oe),await G())};await G()},He=b(""),bt=()=>{if(!He.value){O.warning("请输入内容");return}Rn({search:He.value,page:pe.value,limit:X.value}).then(c=>{J.value=c._rawValue.data,k.value=c._rawValue.count,O.success("搜索完成")}).catch(c=>{O.error(c.message)})},dn=c=>{As({session_id:c}).then(l=>{O.success(l._rawValue.message),ge(),x.value=0,p.value=[]}).catch(l=>{console.log(l)})},fn=()=>(Is().then(c=>{O.success(c._rawValue.message),ge(),x.value=0,p.value=[]}).catch(c=>{console.log(c)}),!0),ka=c=>{const l=document.createElement("input");l.setAttribute("readonly","readonly"),l.setAttribute("value",c.replace(/&nbsp;/g," ")),document.body.appendChild(l),l.select(),document.execCommand("copy")&&(document.execCommand("copy"),O.success("复制成功")),document.body.removeChild(l)};b();const vn=b(),Ut=b(!1);b("ltr");const xa=()=>{Ut.value=!0},ye=b(""),Ca=c=>{w.value=="gpt"?(ye.value=Be.value[c].title,le.value=Be.value[c].model):w.value=="fly"?(ye.value="XF_Cloud",le.value="xf"):w.value=="baidu"&&(ye.value=c,le.value=c)},Qe=b(!1),ct=b(""),et=b(0),_n=()=>{Pn({search:ct.value,page:Ke.value,limit:rt.value}).then(c=>{ee.value=c._rawValue.data,et.value=c._rawValue.count,O.success("搜索完成")}).catch(c=>{O.error(c.message)})},Sa=(c,l)=>{Z.message_input=c,Qe.value=!1;const g=JSON.parse(l);if(Se.domains=[],!(g==null||g==""))for(let G=0;G<g.length;G++)Se.domains.push({key:Date.now(),value:g[G].content,sel:g[G].role})},Va=(c,l)=>{Z.message_input=c,Qe.value=!1,Se.domains=[];for(let g=0;g<l.length;g++)Se.domains.push({key:Date.now(),value:l[g].content,sel:l[g].role})},pn=c=>{dt.value=!0,x.value=c},dt=b(!1),Je=b(""),mn=()=>{if(!Je.value)return O.warning("请输入内容"),!0;$a(x.value,Je.value),Je.value=""},$a=(c,l)=>{xs({session_id:c,session_name:l}).then(g=>{O.success(g._rawValue.message),ge()}).catch(g=>{O.error(g.message)})},ft=b(!1),Ea=()=>{ft.value=!ft.value;const c=ft.value?"开启":"关闭";O.success("联网功能"+c+"成功")};b();const Se=Et({domains:[]}),za=[{value:"system",label:"system"},{value:"user",label:"user"},{value:"assistant",label:"assistant"}],Aa=c=>{const l=Se.domains.indexOf(c);l!==-1&&Se.domains.splice(l,1)},Ia=()=>{Se.domains.push({key:Date.now(),value:"",sel:"system"})},La=()=>{n.setting.no_login_aiqs=="1"&&!z.value?(console.log(1),Mt()):w.value=="gpt"?jt():w.value=="fly"?gn():w.value=="baidu"&&hn()},gn=async()=>{var oe;if(Z.message_input=="")return O.warning("请输入内容"),!1;if(event.shiftKey)return Z.message_input+=`
`,!1;if(!z.value)return O.warning("请先登录"),u(),!1;H.value=!0,p.value.push({session_id:x.value,question:Z.message_input,message:"思考中..."}),he();const c=await fetch(`${ht}api/send_fly_msg`,{method:"POST",headers:yt,body:JSON.stringify({info:Z.message_input,session_id:x.value,scene_preset:Se.domains,model_is_select:le.value,answer_num:ae.value,answer_tem:we.value,now_choose_knowledge:N.value})});if(Ce.value="start",c&&(p.value[p.value.length-1].message=""),c.status==500)return H.value=!1,O.error("服务器错误"),!1;if(c.status==401)return H.value=!1,O.error("请先登录"),!1;if(c.status==402)return H.value=!1,p.value[p.value.length-1].message="发送次数已达上限或余额不足",O.error("发送次数已达上限或余额不足"),!1;if(c.status==403)return H.value=!1,p.value[p.value.length-1].message="禁止发送违禁词",O.error("禁止发送违禁词"),!1;let l=!1;const g=(oe=c.body)==null?void 0:oe.getReader(),G=({value:q})=>{let I=new TextDecoder().decode(q).split(`

`).map(y=>y.replace(/\n/g,"")),M=[];for(let y=0;y<I.length;y++){if(ce.value=!1,I[y].slice(-2)=="}}"&&I[y].startsWith("data:"))M.push(JSON.parse(I[y].replace("data:","")));else if(I[y].startsWith("data:")&&I[y].slice(-2)!="]}")de.value=I[y].replace("data:","");else if(I[y].slice(-2)=="}}"&&I[y].startsWith("data:")==!1){let Ie=de.value+=I[y];M.push(JSON.parse(Ie.replace("data:",""))),de.value=""}else I[y].includes('"error"')&&(p.value[p.value.length-1].message=JSON.parse(I[y]).error.message),de.value="";if(I[y].includes("reply_content:")&&(l=!0),l){let Te=I[y].substring(14);for(let te=0;te<Te.length;te++)setTimeout(()=>{p.value[p.value.length-1].message+=Te.charAt(te),he()},1e3)}}for(let y=0;y<M.length;y++)setTimeout(()=>{M[y].payload.choices.text[0].content&&(p.value[p.value.length-1].message+=M[y].payload.choices.text[0].content),he()},100)},se=async()=>{const q=await(g==null?void 0:g.read());if(Ce.value=="end")return console.log("end"),Ce.value="start",g==null||g.cancel(),!1;q!=null&&q.done?(console.log("done"),ce.value=!0,mt(),H.value=!1,Z.message_input="",x.value==0&&(ge(),setTimeout(()=>{x.value==0&&(x.value=Ee.value.session_id),Ae(x.value)},2e3))):(H.value=!0,ce.value=!1,G(q),await se())};await se()},hn=async()=>{var oe;if(Z.message_input=="")return O.warning("请输入内容"),!1;if(event.shiftKey)return Z.message_input+=`
`,!1;if(!z.value)return O.warning("请先登录"),u(),!1;H.value=!0,p.value.push({session_id:x.value,question:Z.message_input,message:"思考中..."}),he();const c=await fetch(`${ht}api/${le.value=="ErnieBot"?"run_baidu_send":"run_baidu_send_turbo"}`,{method:"POST",headers:yt,body:JSON.stringify({info:Z.message_input,session_id:x.value,scene_preset:Se.domains,model_is_select:le.value,answer_num:ae.value,answer_tem:we.value,now_choose_knowledge:N.value})});if(Ce.value="start",c&&(p.value[p.value.length-1].message=""),c.status==500)return H.value=!1,O.error("服务器错误"),!1;if(c.status==401)return H.value=!1,O.error("请先登录"),!1;if(c.status==402)return H.value=!1,p.value[p.value.length-1].message="发送次数已达上限或余额不足",O.error("发送次数已达上限或余额不足"),!1;if(c.status==403)return H.value=!1,p.value[p.value.length-1].message="禁止发送违禁词",O.error("禁止发送违禁词"),!1;let l=!1;const g=(oe=c.body)==null?void 0:oe.getReader(),G=({value:q})=>{let I=new TextDecoder().decode(q).split(`

`).map(y=>y.replace(/\n/g,"")),M=[];for(let y=0;y<I.length;y++){if(ce.value=!1,I[y].slice(-2)=="}}"&&I[y].startsWith("data:"))M.push(JSON.parse(I[y].replace("data:","")));else if(I[y].startsWith("data:")&&I[y].slice(-2)!="]}")de.value=I[y].replace("data:","");else if(I[y].slice(-2)=="}}"&&I[y].startsWith("data:")==!1){let Ie=de.value+=I[y];M.push(JSON.parse(Ie.replace("data:",""))),de.value=""}else I[y].includes('"error_msg"')&&(p.value[p.value.length-1].message=JSON.parse(I[y]).error_msg),de.value="";if(I[y].includes("reply_content:")&&(l=!0),l){let Te=I[y].substring(14);for(let te=0;te<Te.length;te++)setTimeout(()=>{p.value[p.value.length-1].message+=Te.charAt(te),he()},1e3)}}for(let y=0;y<M.length;y++)setTimeout(()=>{M[y].result&&(p.value[p.value.length-1].message+=M[y].result),he()},100)},se=async()=>{const q=await(g==null?void 0:g.read());if(Ce.value=="end")return console.log("end"),Ce.value="start",g==null||g.cancel(),!1;q!=null&&q.done?(console.log("done"),ce.value=!0,mt(),H.value=!1,Z.message_input="",x.value==0&&(ge(),setTimeout(()=>{x.value==0&&(x.value=Ee.value.session_id),Ae(x.value)},2e3))):(H.value=!0,ce.value=!1,G(q),await se())};await se()};return(c,l)=>{const g=j("a-button"),G=j("a-input-search"),se=j("a-space"),oe=j("a-popconfirm"),q=j("a-avatar"),Q=j("a-empty"),I=j("a-modal"),M=j("a-pagination"),y=as,Ie=j("a-spin"),Te=j("a-input"),te=j("a-tag"),yn=j("a-trigger"),Fe=j("a-doption"),bn=j("a-dropdown"),wt=j("a-tooltip"),Bt=j("a-col"),Ht=j("a-row"),wn=j("a-textarea"),kn=j("a-form-item"),Ta=ms,xn=j("a-form"),Ra=j("a-skeleton-line"),Pa=j("a-skeleton"),kt=j("a-typography-text"),Oa=j("a-timeline-item"),ja=j("a-timeline"),Na=j("a-option"),Ma=j("a-select"),We=j("a-radio"),xt=j("a-radio-group"),Cn=j("a-card"),Ua=j("a-checkbox"),Ba=j("a-checkbox-group"),Sn=j("a-slider"),Ha=j("a-collapse-item"),Fa=j("a-collapse"),qa=j("a-list-item-meta"),Da=j("a-list-item"),Ja=j("a-list"),Wa=j("a-drawer"),Xa=gs,Ga=Ol;return _(),V(fe,null,[a("div",{style:{width:"15%","min-width":"260px","margin-left":"1px"},class:_e(["flex h-full flex-col bg-[#fafbfc] chat-message-left relative",s.value?"":"is_open"])},[i(g,{size:"mini",shape:"circle",class:"absolute aside-nav-btn",onClick:l[0]||(l[0]=o=>s.value=!s.value)},{default:r(()=>[s.value?(_(),R(m(ss),{key:0})):(_(),R(m(ls),{key:1}))]),_:1}),i(se,{class:"p-2 bg-white"},{default:r(()=>[i(G,{modelValue:He.value,"onUpdate:modelValue":l[1]||(l[1]=o=>He.value=o),onSearch:bt,onKeydown:qt(bt,["enter","native"]),placeholder:"搜索..."},null,8,["modelValue","onKeydown"]),i(g,{type:"primary",onClick:l[2]||(l[2]=o=>ma())},{default:r(()=>[i(m(En))]),_:1})]),_:1}),i(Ie,{class:"overflow-auto h-full",loading:B.value,tip:"Loading.."},{default:r(()=>[J.value.length>0?(_(),V("div",Ho,[a("p",Fo,[a("span",{onClick:l[3]||(l[3]=o=>ge()),class:"py-0 border-0 text-muted",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[i(m(vt),{class:"fs-6 align-text-bottom"})]),h(" 全部消息")]),a("ul",qo,[a("div",Do,[(_(!0),V(fe,null,ve(J.value,(o,K)=>(_(),V("li",{class:_e(["online list-animation-bottomIn",[x.value==o[o.length-1].session_id?"active":"","delay-"+K]]),key:K},[a("div",Jo,[i(se,null,{default:r(()=>[i(m(zn),{onClick:Y=>pn(o[o.length-1].session_id)},null,8,["onClick"]),i(oe,{content:"此操作将永久删除当前会话,确定要删除吗?",onOk:Y=>dn(o[o.length-1].session_id),type:"warning"},{default:r(()=>[i(m(Xe))]),_:2},1032,["onOk"])]),_:2},1024)]),a("div",{class:"card mb-2",onClick:Y=>Ae(o[o.length-1].session_id)},[a("div",Xo,[a("div",Go,[a("div",Zo,[o[o.length-1].icon?(_(),R(q,{key:0,onClick:l[4]||(l[4]=Y=>Lt()),shape:"square",imageUrl:o[o.length-1].icon},null,8,["imageUrl"])):(_(),R(q,{key:1,onClick:l[5]||(l[5]=Y=>Lt())},{default:r(()=>[Ko]),_:1}))]),a("div",Yo,[a("div",Qo,[o[o.length-1].message_b?(_(),V("h6",ei,A(o[o.length-1].message_b),1)):(_(),V("h6",ti,A(o[o.length-1].question?o[o.length-1].question:"新会话"),1))]),a("div",{class:"text-truncate h-20",innerHTML:o[o.length-1].message?o[o.length-1].message.replace(/\n/g,"<br />"):"暂无消息"},null,8,ni)])])])],8,Wo)],2))),128))])]),i(I,{visible:je.value,"onUpdate:visible":l[6]||(l[6]=o=>je.value=o),title:"头像预设",footer:!1},{default:r(()=>[pt.value.length>0?(_(),V("div",ai,[i(se,{class:"flex-wrap justify-between"},{default:r(()=>[(_(!0),V(fe,null,ve(pt.value,(o,K)=>(_(),R(q,{class:"cursor-pointer",size:64,imageUrl:o.avatar,width:"200",onClick:Y=>ua(o.id)},null,8,["imageUrl","onClick"]))),256))]),_:1})])):(_(),R(Q,{key:1}))]),_:1},8,["visible"])])):(_(),R(Q,{key:1,class:"message_empty"})),i(M,{size:"small",total:k.value,current:pe.value,"page-size":X.value,class:"justify-content-center mb-2",background:"",simple:"",onChange:un,"hide-on-single-page":!0},null,8,["total","current","page-size"]),i(y,null,{default:r(()=>[i(oe,{content:"此操作将永久删除所有会话,确定要删除吗?",onOk:fn,type:"warning"},{default:r(()=>[i(g,{type:"primary",class:"w-11/12 flex m-auto mb-2"},{icon:r(()=>[i(m(Xe))]),default:r(()=>[h("清空所有对话")]),_:1})]),_:1})]),_:1})]),_:1},8,["loading"]),i(I,{visible:dt.value,"onUpdate:visible":l[8]||(l[8]=o=>dt.value=o),title:"修改备注",onOk:mn},{default:r(()=>[i(Te,{modelValue:Je.value,"onUpdate:modelValue":l[7]||(l[7]=o=>Je.value=o)},null,8,["modelValue"])]),_:1},8,["visible"]),i(y,null,{default:r(()=>[a("div",si,[a("div",li,[m(z)?(_(),R(yn,{key:0,trigger:["click","hover","focus"]},{content:r(()=>[a("div",vi,[a("div",_i,[a("div",pi,[i(q,null,{default:r(()=>[a("img",{src:xe.value.avatar,alt:"avatar",class:"rounded-full w-10 h-10"},null,8,mi)]),_:1}),a("span",gi,[a("span",null,A(xe.value.name),1),a("div",hi,A(De.value),1)])]),a("div",yi,[bi,a("span",null,A(ot.value)+"/"+A(Rt.value)+"次 ",1),i(te,{class:"ml-1",color:"#165dff",size:"small"},{default:r(()=>[h(A(gt(it.value)),1)]),_:1})]),a("div",wi,[ki,a("span",null,A(Tt.value)+"/"+A(Pt.value)+"次 ",1),i(te,{class:"ml-1",color:"#165dff",size:"small"},{default:r(()=>[h(A(gt(it.value)),1)]),_:1})]),a("div",xi,[Ci,a("span",null,A(xe.value.money),1)]),a("div",{class:"quit",onClick:l[9]||(l[9]=o=>ln())},[Si,h(" 退出登录 ")])])])]),default:r(()=>[a("div",oi,[a("div",ii,[i(q,{imageUrl:xe.value.avatar,class:"rounded-full w-10 h-10"},null,8,["imageUrl"]),ri]),a("div",ui,[a("div",ci,A(xe.value.name),1),a("div",di,"额度:"+A(xe.value.money),1)]),a("div",fi,A(De.value),1)])]),_:1})):(_(),V("div",Vi,[a("div",$i,[i(q,{style:{backgroundColor:"#3370ff"}},{default:r(()=>[i(m(Mn))]),_:1}),Ei]),zi,a("div",Ai,A(De.value),1)])),m(z)?(_(),R(g,{key:3,class:"w-full",onClick:l[11]||(l[11]=o=>S())},{default:r(()=>[m(n).setting.show_limit_front=="1"?(_(),V("div",Ii,[h(" VIP剩余 "),i(te,{color:"arcoblue",class:"ml-1 mr-1"},{default:r(()=>[h(A(ot.value),1)]),_:1}),h("次问答 ")])):(_(),V("div",Li," 升级会员 "))]),_:1})):(_(),R(g,{key:2,onClick:l[10]||(l[10]=o=>u()),class:"w-full"},{default:r(()=>[h(" 用户登录 ")]),_:1}))])])]),_:1})],2),a("div",Ti,[i(Ie,{loading:re.value,tip:"记录加载loading.."},{default:r(()=>[a("div",Ri,[a("div",Pi,[a("div",Oi,[a("div",ji,[a("div",Ni,[a("button",{onClick:l[12]||(l[12]=o=>xa()),class:"btn sidebar-toggle-btn"},[i(m(os),{size:"24"})]),a("div",Mi,[x.value==0?(_(),V("div",Ui,[i(q,{class:"mr-2"},{default:r(()=>[Bi]),_:1})])):(_(),V("div",Hi,[i(q,{class:"mr-2"},{default:r(()=>[p.value&&p.value[0]&&p.value[0].icon!=null?(_(),V("img",{key:0,src:p.value[0].icon,alt:"avatar",class:"rounded-full w-100"},null,8,Fi)):(_(),V("img",qi))]),_:1})])),a("div",Di,[a("div",Ji,[x.value==0?(_(),V("h6",Wi,A(m(n).setting.bot_name),1)):F("",!0),p.value.length>0?(_(),V("h6",Xi,A(p.value[0].question?p.value[0].question:"新会话"),1)):F("",!0)]),a("div",Gi,[i(se,null,{default:r(()=>[i(te,{color:"arcoblue",class:"cursor-pointer",onClick:l[13]||(l[13]=o=>Qe.value=!0)},{icon:r(()=>[i(m(Os))]),default:r(()=>[h(" 预设配置 ")]),_:1}),p.value.length>0?(_(),R(te,{key:0,color:"orange"},{default:r(()=>[h(A(p.value.length*2)+"条消息 ",1)]),_:1})):F("",!0),i(bn,{onSelect:Ca,"popup-max-height":!1},{content:r(()=>[m(n).setting.gpt_new_qs_open=="1"&&w.value=="gpt"?(_(),V("div",Zi,[(_(!0),V(fe,null,ve(Be.value,(o,K)=>(_(),R(Fe,{key:K,value:K},{default:r(()=>[h(A(o.title),1)]),_:2},1032,["value"]))),128))])):F("",!0),m(n).setting.fly_qs_open=="1"&&w.value=="fly"?(_(),V("div",Ki,[i(Fe,{value:"xf"},{default:r(()=>[h("XF-Cloud")]),_:1})])):F("",!0),m(n).setting.wenxin_baidu_open=="1"&&w.value=="baidu"?(_(),V("div",Yi,[i(Fe,{value:"ErnieBot"},{default:r(()=>[h("Ernie-Bot")]),_:1}),i(Fe,{value:"ErnieBotTurbo"},{default:r(()=>[h("Ernie-Bot-turbo")]),_:1})])):F("",!0)]),default:r(()=>[i(te,{color:"green",class:"cursor-pointer"},{default:r(()=>[h(A(ye.value),1)]),_:1})]),_:1})]),_:1})])])])]),a("div",Qi,[a("ul",er,[a("li",tr,[i(y,null,{default:r(()=>[i(bn,null,{content:r(()=>[i(Fe,null,{default:r(()=>[a("a",{onClick:l[14]||(l[14]=o=>ut.value=!0),"data-toggle":"pill",class:"text-gray-400",href:"javascript:;"},[i(m(Un),{class:"fs-6 align-text-bottom"}),h(" 公告信息 ")])]),_:1}),x.value!=0?(_(),R(Fe,{key:0},{default:r(()=>[a("a",{onClick:l[15]||(l[15]=o=>t.value=!0),"data-toggle":"pill",class:"text-gray-400",href:"javascript:;"},[i(m(_t),{class:"fs-6 align-text-bottom"}),h(" 导出记录 ")])]),_:1})):F("",!0),i(Fe,null,{default:r(()=>[a("a",{onClick:l[16]||(l[16]=o=>Ae(x.value)),class:"text-gray-400","data-toggle":"pill",href:"javascript:;"},[i(m(vt),{class:"fs-6 align-text-bottom"}),h(" 刷新对话 ")])]),_:1}),i(Fe,null,{default:r(()=>[m(z)?(_(),V("a",{key:0,onClick:l[17]||(l[17]=o=>S()),class:"text-gray-400","data-toggle":"pill",href:"javascript:;"},[i(m(Vt),{class:"fs-6 align-text-bottom"}),h(" 充值"+A(m(n).setting.money_name_set),1)])):(_(),V("a",{key:1,onClick:l[18]||(l[18]=o=>u()),class:"text-gray-400","data-toggle":"pill",href:"javascript:;"},[i(m(Vt),{class:"fs-6 align-text-bottom"}),h("充值"+A(m(n).setting.money_name_set),1)]))]),_:1})]),default:r(()=>[a("a",nr,[i(m(is),{class:"fs-6"})])]),_:1})]),_:1})])]),a("ul",ar,[a("li",sr,[i(wt,{class:"box-item",effect:"dark",content:"公告信息",placement:"bottom"},{default:r(()=>[a("a",{onClick:l[19]||(l[19]=o=>ut.value=!0),class:"css-htwhyh nav-link text-muted","data-toggle":"pill",href:"javascript:;"},[i(m(Un),{class:"fs-6"})])]),_:1})]),x.value!=0?(_(),V("li",lr,[i(wt,{class:"box-item",effect:"dark",content:"保存当前聊天",placement:"bottom"},{default:r(()=>[a("a",{onClick:l[20]||(l[20]=o=>t.value=!0),class:"css-htwhyh nav-link text-muted","data-toggle":"pill",href:"javascript:;"},[i(m(_t),{class:"fs-6 align-text-bottom"})])]),_:1})])):F("",!0),a("li",or,[i(wt,{class:"box-item",effect:"dark",content:"刷新当前聊天",placement:"bottom"},{default:r(()=>[a("a",{onClick:l[21]||(l[21]=o=>Ae(x.value)),class:"css-htwhyh nav-link text-muted","data-toggle":"pill",href:"javascript:;"},[i(m(vt),{class:"fs-6 align-text-bottom"})])]),_:1})]),a("li",ir,[i(wt,{class:"box-item",effect:"dark",content:"充值",placement:"bottom"},{default:r(()=>[m(z)?(_(),V("a",{key:0,onClick:l[22]||(l[22]=o=>S()),class:"nav-link text-muted css-htwhyh","data-toggle":"pill",href:"javascript:;"},[i(m(Vt),{class:"fs-6 align-text-bottom"})])):(_(),V("a",{key:1,onClick:l[23]||(l[23]=o=>u()),class:"nav-link text-muted css-htwhyh","data-toggle":"pill",href:"javascript:;"},[i(m(Vt),{class:"fs-6 align-text-bottom"})]))]),_:1})])])])])])]),a("div",rr,[a("div",{class:"pb-32 sm:py-6 relative",ref_key:"poster",ref:vn},[a("div",ur,[x.value==0&&p.value.length==0||p.value.length==1&&p.value[0].question==null&&p.value[0].message==null?(_(),V("div",cr,[a("h1",dr,A(m(n).setting.title),1),a("div",fr,[a("div",null,[a("div",vr,[i(Ht,{class:"grid-demo w-100"},{default:r(()=>[(_(!0),V(fe,null,ve(rn.value,(o,K)=>(_(),R(Bt,{xs:{span:24},lg:{span:6},class:_e(["list-animation-leftIn","delay-"+K])},{default:r(()=>[a("div",{class:"card_b",onClick:Y=>Va(o.Instruction,o.preset)},[a("div",pr,[i(q,{class:"opacity-100",imageUrl:o.icon},null,8,["imageUrl"]),a("h2",null,A(o.title),1)]),a("div",mr,[a("h2",null,A(o.title),1),a("p",gr,A(o.Instruction),1),a("p",hr,A(o.Instruction),1)]),a("span",{class:"hover_card_bg",style:Ge({"background-image":`url(${o.icon})`})},null,4)],8,_r)]),_:2},1032,["class"]))),256))]),_:1})]),yr])])])):F("",!0)]),p.value.length>0?(_(),V("div",br,[a("ul",wr,[(_(!0),V(fe,null,ve(p.value,(o,K)=>(_(),V("div",{class:"message_s",key:K},[o.question?(_(),V("li",kr,[a("div",xr,[a("span",Cr,A(o.created_at),1),a("div",Sr,[a("div",{class:"message-content me_content border p-3",innerHTML:o.question?f(o.question).replace(/\\n/g,`
`):""},null,8,Vr)])])])):F("",!0),o.message?(_(),V("li",$r,[a("div",Er,[i(q,{class:"mr-2"},{default:r(()=>[p.value&&p.value[0]&&p.value[0].icon!=null?(_(),V("img",{key:0,src:p.value[0].icon,alt:"avatar",class:"rounded-full w-100"},null,8,zr)):(_(),V("img",Ar))]),_:1})]),a("div",Ir,[a("span",Lr,A(o.created_at),1),a("div",Tr,[a("div",{class:_e(["message-content p-3",K==p.value.length-1&&!ce.value?"ms-up":""]),innerHTML:o.message?f(o.message).replace(/\\n/g,`
`):""},null,10,Rr),a("div",Pr,[i(se,{class:"ml-4"},{default:r(()=>[a("div",{class:"speak btn z-10 new_ant_btn h-30",onClick:Y=>lt.value?fa():da(o.message?o.message.replace(/\\n/g,`
`):"")},[i(m(Gs)),a("span",jr,A(lt.value?"停止":"朗读"),1)],8,Or),a("div",{class:"speak btn z-10 new_ant_btn h-30",onClick:Y=>wa(o.question)},[i(m(vt)),Mr],8,Nr),a("div",{class:"speak btn z-10 new_ant_btn h-30",onClick:Y=>ka(o.message?o.message.replace(/\\n/g,`
`):"")},[i(m(rs)),Br],8,Ur),a("div",{class:"speak btn z-10 new_ant_btn h-30",onClick:Y=>ke(o.message?o.message.replace(/\\n/g,`
`):"")},[i(m(js)),Fr],8,Hr),a("div",{class:"speak btn z-10 new_ant_btn h-30",onClick:Y=>W(o.message?o.message.replace(/\\n/g,`
`):"")},[i(m(_t)),Dr],8,qr),i(oe,{content:"此操作将永久删除当条消息,确定要删除吗?",onOk:Y=>_a(o.id),type:"warning"},{default:r(()=>[a("div",Jr,[i(m(Xe)),Wr])]),_:2},1032,["onOk"])]),_:2},1024)])])])])):F("",!0)]))),128))])])):F("",!0)],512)]),a("div",{class:_e(["res_stop text-center mb-2",ce.value?"d-none":""])},[i(g,{onClick:l[24]||(l[24]=o=>ba())},{default:r(()=>[i(m(al),{class:"font-22 mr-2"}),h(" 停止运行 ")]),_:1})],2),a("div",Xr,[a("div",Gr,[a("div",Zr,[a("div",Kr,[i(xn,{model:m(Z),ref_key:"formRef",ref:ya},{default:r(()=>[i(kn,{"hide-label":!0,"hide-asterisk":!0,field:"message_input","validate-trigger":"input",class:"mb-0"},{default:r(()=>[i(wn,{placeholder:"shift+enter换行",modelValue:m(Z).message_input,"onUpdate:modelValue":l[25]||(l[25]=o=>m(Z).message_input=o),"allow-clear":"","auto-size":{minRows:1,maxRows:4},onKeydown:l[26]||(l[26]=qt(us(o=>La(),["prevent"]),["enter","native"])),"show-word-limit":""},null,8,["modelValue"]),i(se,null,{default:r(()=>[m(n).setting.online_is_open=="1"&&w.value=="gpt"?(_(),R(g,{key:0,onClick:l[27]||(l[27]=o=>Ea()),type:ft.value?"primary":"secondary",loading:H.value,style:{marginLeft:"10px"}},{default:r(()=>[i(m(yl),{class:"text-lg"})]),_:1},8,["type","loading"])):F("",!0),w.value=="gpt"?(_(),R(g,{key:1,class:"ml-1",onClick:l[28]||(l[28]=o=>m(n).setting.no_login_aiqs=="1"&&!m(z)?Mt():jt()),type:"primary",loading:H.value},{default:r(()=>[i(m(Dt),{class:"text-lg"})]),_:1},8,["loading"])):F("",!0),w.value=="fly"?(_(),R(g,{key:2,class:"ml-1",onClick:l[29]||(l[29]=o=>gn()),type:"primary",loading:H.value},{default:r(()=>[i(m(Dt),{class:"text-lg"})]),_:1},8,["loading"])):F("",!0),w.value=="baidu"?(_(),R(g,{key:3,class:"ml-1",onClick:l[30]||(l[30]=o=>hn()),type:"primary",loading:H.value},{default:r(()=>[i(m(Dt),{class:"text-lg"})]),_:1},8,["loading"])):F("",!0)]),_:1})]),_:1}),i(Ta)]),_:1},8,["model"])])])])])])]),_:1},8,["loading"])]),i(I,{visible:ut.value,"onUpdate:visible":l[31]||(l[31]=o=>ut.value=o),onOk:l[32]||(l[32]=o=>ha()),"hide-cancel":!0,"ok-text":"已查阅"},{title:r(()=>[h(" 本站公告 ")]),default:r(()=>[Ot.value.length==0?(_(),R(Pa,{key:0,animation:!0},{default:r(()=>[i(se,{direction:"vertical",style:{width:"100%"},size:"large"},{default:r(()=>[i(Ra,{rows:3})]),_:1})]),_:1})):(_(),V("div",Yr,[i(ja,null,{default:r(()=>[(_(!0),V(fe,null,ve(Ot.value,(o,K)=>(_(),R(Oa,{label:o.created_at,lineType:"dashed",key:K},{default:r(()=>[h(A(o.title)+" ",1),Qr,i(kt,{type:"secondary",style:{fontSize:"12px",marginTop:"4px"},innerHTML:o.info},null,8,["innerHTML"])]),_:2},1032,["label"]))),128))]),_:1})]))]),_:1},8,["visible"]),i(I,{visible:Qe.value,"onUpdate:visible":l[51]||(l[51]=o=>Qe.value=o),class:"mb_dialog"},{title:r(()=>[h(" 预设配置 ")]),footer:r(()=>[a("span",wu,[i(g,{type:"primary",onClick:l[50]||(l[50]=o=>Qe.value=!1)},{default:r(()=>[h(" 配置完成 ")]),_:1})])]),default:r(()=>[i(I,{visible:d.value,"onUpdate:visible":l[34]||(l[34]=o=>d.value=o),title:"场景预设","append-to-body":"",class:"mb_dialog"},{footer:r(()=>[a("span",eu,[i(g,{type:"primary",onClick:l[33]||(l[33]=o=>d.value=!1)},{default:r(()=>[h(" 完成 ")]),_:1})])]),default:r(()=>[i(xn,{model:m(Se)},{default:r(()=>[(_(!0),V(fe,null,ve(m(Se).domains,(o,K)=>(_(),R(kn,{"hide-label":!0,"hide-asterisk":!0,field:`domains[${K}].value`,key:K},{default:r(()=>[i(se,null,{default:r(()=>[i(Ma,{modelValue:o.sel,"onUpdate:modelValue":Y=>o.sel=Y},{default:r(()=>[(_(),V(fe,null,ve(za,Y=>i(Na,{key:Y.value,label:Y.label,value:Y.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"]),i(wn,{"auto-size":"",placeholder:"预设内容",modelValue:o.value,"onUpdate:modelValue":Y=>o.value=Y},null,8,["modelValue","onUpdate:modelValue"]),i(g,{type:"primary",onClick:Y=>Aa(o),style:{marginLeft:"10px"}},{default:r(()=>[i(m(Xe))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["field"]))),128))]),_:1},8,["model"]),a("div",null,[i(g,{onClick:Ia},{default:r(()=>[h("添加场景")]),_:1})])]),_:1},8,["visible"]),tu,i(xt,{class:"mb-3 flex-wrap",modelValue:w.value,"onUpdate:modelValue":l[35]||(l[35]=o=>w.value=o),type:"button"},{default:r(()=>[m(n).setting.gpt_new_qs_open=="1"?(_(),R(We,{key:0,value:"gpt"},{default:r(()=>[h("AI大模型")]),_:1})):F("",!0),m(n).setting.fly_qs_open=="1"?(_(),R(We,{key:1,value:"fly"},{default:r(()=>[h("星火大模型")]),_:1})):F("",!0),m(n).setting.wenxin_baidu_open=="1"?(_(),R(We,{key:2,value:"baidu"},{default:r(()=>[h("文心大模型")]),_:1})):F("",!0)]),_:1},8,["modelValue"]),nu,w.value=="gpt"?(_(),R(xt,{key:0,class:"mb-3 flex-wrap",modelValue:le.value,"onUpdate:modelValue":l[36]||(l[36]=o=>le.value=o),type:"button"},{default:r(()=>[(_(!0),V(fe,null,ve(Be.value,(o,K)=>(_(),R(We,{key:K,value:o.model},{default:r(()=>[h(A(o.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):F("",!0),w.value=="fly"?(_(),R(xt,{key:1,class:"mb-3 flex-wrap",modelValue:le.value,"onUpdate:modelValue":l[37]||(l[37]=o=>le.value=o),type:"button"},{default:r(()=>[i(We,{value:"xf"},{default:r(()=>[h("XF-Cloud")]),_:1})]),_:1},8,["modelValue"])):F("",!0),w.value=="baidu"?(_(),R(xt,{key:2,class:"mb-3 flex-wrap",modelValue:le.value,"onUpdate:modelValue":l[38]||(l[38]=o=>le.value=o),type:"button"},{default:r(()=>[i(We,{value:"ErnieBot"},{default:r(()=>[h("Ernie-Bot")]),_:1}),i(We,{value:"ErnieBotTurbo"},{default:r(()=>[h("Ernie-Bot-turbo")]),_:1})]),_:1},8,["modelValue"])):F("",!0),au,a("div",su,[ie.value.length>0?(_(),V("div",lu,[i(Ht,{gutter:20},{default:r(()=>[(_(!0),V(fe,null,ve(ie.value,(o,K)=>(_(),R(Bt,{span:12,key:K},{default:r(()=>[i(Cn,{hoverable:"",class:"w-100",style:{marginBottom:"20px"}},{default:r(()=>[a("div",ou,[a("span",iu,[ru,i(kt,null,{default:r(()=>[h(A(o.title),1)]),_:2},1024)]),i(m(Xe),{onClick:Y=>T(o.id)},null,8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),i(g,{type:"primary",class:"mb-2",onClick:l[39]||(l[39]=o=>U())},{default:r(()=>[h("选择知识库")]),_:1})])):(_(),R(Q,{key:1,description:"未选择知识库"},{default:r(()=>[i(g,{type:"primary",onClick:l[40]||(l[40]=o=>U())},{default:r(()=>[h("选择知识库")]),_:1})]),_:1}))]),i(I,{visible:Pe.value,"onUpdate:visible":l[43]||(l[43]=o=>Pe.value=o),title:"添加知识库","append-to-body":"",class:"mb_dialog"},{default:r(()=>[me.value.length>0?(_(),R(Ba,{key:0,modelValue:N.value,"onUpdate:modelValue":l[41]||(l[41]=o=>N.value=o),onChange:L},{default:r(()=>[i(Ht,{gutter:10},{default:r(()=>[(_(!0),V(fe,null,ve(me.value,(o,K)=>(_(),R(Bt,{key:K,span:12},{default:r(()=>[i(Ua,{value:o.id,class:"w-75 mb-2"},{checkbox:r(({checked:Y})=>[i(se,{align:"start",class:_e(["custom-checkbox-card",{"custom-checkbox-card-checked":Y}])},{default:r(()=>[uu,a("div",null,[a("div",cu,A(o.title),1),i(kt,{type:"secondary"},{default:r(()=>[h(A(o.description?o.description:"暂无描述"),1)]),_:2},1024)])]),_:2},1032,["class"])]),_:2},1032,["value"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"])):(_(),R(Q,{key:1,description:"暂无知识库"},{default:r(()=>[i(g,{type:"primary",onClick:l[42]||(l[42]=o=>E())},{default:r(()=>[h("添加知识库")]),_:1})]),_:1})),i(M,{class:"mt-2",current:Ne.value,"page-size":Re.value,background:"","hide-on-single-page":"",total:Me.value,onChange:st},null,8,["current","page-size","total"])]),_:1},8,["visible"]),i(Fa,{class:"mb-3 better_preview"},{"expand-icon":r(({active:o})=>[o?(_(),R(m(cs),{key:0})):(_(),R(m(ds),{key:1}))]),default:r(()=>[i(Ha,{header:"高级设置",key:"1"},{"expand-icon":r(({active:o})=>[o?(_(),R(m(Fs),{key:0})):(_(),R(m(fs),{key:1}))]),default:r(()=>[a("div",du,[a("div",fu,[vu,a("div",_u,[i(Sn,{"default-value":ae.value,modelValue:ae.value,"onUpdate:modelValue":l[44]||(l[44]=o=>ae.value=o),max:15,step:"1","show-ticks":!0},null,8,["default-value","modelValue"])])]),pu,a("div",mu,[gu,a("div",hu,[i(Sn,{"default-value":we.value,modelValue:we.value,"onUpdate:modelValue":l[45]||(l[45]=o=>we.value=o),max:2,step:"0.1","show-ticks":!0},null,8,["default-value","modelValue"])])]),yu])]),_:1})]),_:1}),a("h6",bu,[h("场景选择 "),i(g,{type:"primary",onClick:l[46]||(l[46]=o=>d.value=!0)},{default:r(()=>[h("预设场景")]),_:1})]),i(G,{modelValue:ct.value,"onUpdate:modelValue":l[47]||(l[47]=o=>ct.value=o),placeholder:"请输入场景名称",onPressEnter:l[48]||(l[48]=o=>_n()),onSearch:l[49]||(l[49]=o=>_n())},null,8,["modelValue"]),i(Ja,{loading:Ye.value,bordered:!1},{default:r(()=>[(_(!0),V(fe,null,ve(ee.value,(o,K)=>(_(),R(Da,{onClick:Y=>Sa(o.Instruction,o.preset),class:"cursor-pointer",key:K},{default:r(()=>[i(qa,{title:o.title,description:o.Instruction},{avatar:r(()=>[i(q,{shape:"square",imageUrl:o.icon},null,8,["imageUrl"])]),_:2},1032,["title","description"])]),_:2},1032,["onClick"]))),128)),i(M,{class:"mt-2",current:Ke.value,"page-size":rt.value,background:"","hide-on-single-page":"",total:et.value,onChange:pa},null,8,["current","page-size","total"]),vs(i(Q,{description:"暂无数据"},null,512),[[_s,et.value==0]])]),_:1},8,["loading"])]),_:1},8,["visible"]),i(Wa,{visible:Ut.value,"onUpdate:visible":l[61]||(l[61]=o=>Ut.value=o),placement:"left",class:"drawer_index",unmountOnClose:"",header:!1},{footer:r(()=>[a("div",ju,[a("div",Nu,[m(z)?(_(),R(yn,{key:0,trigger:["click","hover","focus"]},{content:r(()=>[a("div",Wu,[a("div",Xu,[a("div",Gu,[i(q,{imageUrl:xe.value.avatar,class:"rounded-full w-10 h-10"},null,8,["imageUrl"]),a("span",Zu,[a("span",null,A(xe.value.name),1),a("div",Ku,A(De.value),1)])]),a("div",Yu,[Qu,a("span",null,A(ot.value)+"/"+A(Rt.value)+"次 ",1),h(),i(te,{class:"ml-1",color:"#165dff",size:"small"},{default:r(()=>[h(A(gt(it.value)),1)]),_:1})]),a("div",ec,[tc,a("span",null,A(Tt.value)+"/"+A(Pt.value)+"次 ",1),h(),i(te,{class:"ml-1",color:"#165dff",size:"small"},{default:r(()=>[h(A(gt(it.value)),1)]),_:1})]),a("div",nc,[ac,a("span",null,A(xe.value.money),1)]),a("div",{class:"quit",onClick:l[58]||(l[58]=o=>ln())},[sc,h(" 退出登录 ")])])])]),default:r(()=>[a("div",Mu,[a("div",Uu,[i(q,null,{default:r(()=>[a("img",{src:xe.value.avatar,alt:"avatar",class:"rounded-full w-10 h-10"},null,8,Bu)]),_:1}),Hu]),a("div",Fu,[a("div",qu,A(xe.value.name),1),a("div",Du,"额度:"+A(xe.value.money),1)]),a("div",Ju,A(De.value),1)])]),_:1})):(_(),V("div",lc,[a("div",oc,[i(q,{style:{backgroundColor:"#3370ff"}},{default:r(()=>[i(m(Mn))]),_:1}),ic]),rc,a("div",uc,A(De.value),1)])),m(z)?(_(),R(g,{key:3,class:"w-full",onClick:l[60]||(l[60]=o=>S())},{default:r(()=>[m(n).setting.show_limit_front=="1"?(_(),V("div",cc,[h(" VIP剩余 "),i(te,{color:"arcoblue",class:"ml-1 mr-1"},{default:r(()=>[h(A(ot.value),1)]),_:1}),h("次问答 ")])):(_(),V("div",dc," 升级会员 "))]),_:1})):(_(),R(g,{key:2,onClick:l[59]||(l[59]=o=>u()),class:"w-full"},{default:r(()=>[h(" 用户登录 ")]),_:1}))])])]),default:r(()=>[i(se,{class:"p-2 bg-white"},{default:r(()=>[i(G,{modelValue:He.value,"onUpdate:modelValue":l[52]||(l[52]=o=>He.value=o),onSearch:bt,onKeydown:qt(bt,["enter","native"]),placeholder:"搜索..."},null,8,["modelValue","onKeydown"]),i(g,{type:"primary",onClick:l[53]||(l[53]=o=>Ae(0))},{default:r(()=>[i(m(En))]),_:1})]),_:1}),i(Ie,{loading:B.value,tip:"Loading.."},{default:r(()=>[J.value.length>0?(_(),V("div",ku,[a("p",xu,[a("span",{onClick:l[54]||(l[54]=o=>ge()),class:"py-0 border-0 text-muted",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[i(m(vt))]),h(" 全部消息 ")]),a("ul",Cu,[a("div",Su,[(_(!0),V(fe,null,ve(J.value,(o,K)=>(_(),V("li",{class:_e(["online",x.value==o[o.length-1].session_id?"active":""]),key:K},[a("div",Vu,[i(se,null,{default:r(()=>[i(m(zn),{onClick:Y=>pn(o[o.length-1].session_id)},null,8,["onClick"]),i(oe,{content:"此操作将永久删除当前会话,确定要删除吗?",onOk:Y=>dn(o[o.length-1].session_id),type:"warning"},{default:r(()=>[i(m(Xe))]),_:2},1032,["onOk"])]),_:2},1024)]),a("div",{class:"card mb-2",onClick:Y=>Ae(o[o.length-1].session_id)},[a("div",Eu,[a("div",zu,[a("div",Au,[o[o.length-1].icon?(_(),R(q,{key:0,onClick:l[55]||(l[55]=Y=>Lt()),shape:"square",imageUrl:o[o.length-1].icon},null,8,["imageUrl"])):(_(),R(q,{key:1},{default:r(()=>[Iu]),_:1}))]),a("div",Lu,[a("div",Tu,[o[o.length-1].message_b?(_(),V("h6",Ru,A(o[o.length-1].message_b),1)):(_(),V("h6",Pu,A(o[o.length-1].question?o[o.length-1].question:"新会话"),1))]),a("div",{class:"text-truncate h-20",innerHTML:o[o.length-1].message?o[o.length-1].message.replace(/\n/g,"<br />"):""},null,8,Ou)])])])],8,$u)],2))),128))])])])):(_(),R(Q,{key:1})),i(M,{size:"small",total:k.value,current:pe.value,"page-size":X.value,class:"justify-content-center mb-2 mt-2",background:"",simple:"",onChange:un,"hide-on-single-page":!0},null,8,["total","current","page-size"]),i(y,null,{default:r(()=>[i(oe,{content:"此操作将永久删除所有会话,确定要删除吗?",onOk:fn,type:"warning"},{default:r(()=>[i(g,{type:"primary",class:"w-11/12 flex m-auto mb-2"},{icon:r(()=>[i(m(Xe))]),default:r(()=>[h("清空所有对话")]),_:1})]),_:1})]),_:1})]),_:1},8,["loading"]),i(I,{visible:dt.value,"onUpdate:visible":l[57]||(l[57]=o=>dt.value=o),title:"修改备注",onOk:mn},{default:r(()=>[i(Te,{modelValue:Je.value,"onUpdate:modelValue":l[56]||(l[56]=o=>Je.value=o)},null,8,["modelValue"])]),_:1},8,["visible"])]),_:1},8,["visible"]),i(Xa,{login_dialog:v.value,onHandleCancel:C},null,8,["login_dialog"]),i(Ga,{dialogFormVisible:P.value,onHandleCancels:D},null,8,["dialogFormVisible"]),m(n).setting.script_tongji?(_(),V("div",{key:0,class:"tongji",innerHTML:m(n).setting.script_tongji},null,8,fc)):F("",!0),i(I,{visible:t.value,"onUpdate:visible":l[64]||(l[64]=o=>t.value=o),footer:!1},{title:r(()=>[h(" 导出聊天记录 ")]),default:r(()=>[a("div",vc,[a("div",_c,[i(se,null,{default:r(()=>[i(g,{onClick:l[62]||(l[62]=o=>sn("PNG")),type:"primary",status:"success"},{icon:r(()=>[i(m(_t))]),default:r(()=>[h(" 导出PNG ")]),_:1}),i(g,{onClick:l[63]||(l[63]=o=>sn("JPG")),type:"primary",status:"warning"},{icon:r(()=>[i(m(_t))]),default:r(()=>[h(" 导出JPG ")]),_:1})]),_:1})]),a("div",pc,[a("div",mc,[a("div",gc,[a("div",{class:"pb-32 sm:py-6 relative",ref_key:"poster",ref:vn},[i(Cn,{hoverable:"",class:"m-2"},{default:r(()=>[a("div",hc,[a("span",yc,[bc,i(kt,null,{default:r(()=>[h(A(m(n).setting.title),1)]),_:1})]),a("div",wc,[i(te,{size:"mini",type:"outline",class:"mb-2"},{default:r(()=>[h(" 模型："+A(le.value),1)]),_:1}),i(te,{size:"mini",type:"outline",class:"mb-2"},{default:r(()=>[h(" 消息："+A(p.value.length*2),1)]),_:1}),i(te,{size:"mini",type:"outline",class:"mb-2"},{default:r(()=>[h(" 时间："+A(p.value.length>0?p.value[p.value.length-1].created_at:""),1)]),_:1})])])]),_:1}),p.value.length>0?(_(),V("div",kc,[a("ul",xc,[(_(!0),V(fe,null,ve(p.value,(o,K)=>(_(),V("div",{class:"message_s",key:K},[a("li",Cc,[a("div",Sc,[a("span",Vc,A(o.created_at),1),a("div",$c,[a("div",{class:"message-content me_content border p-3",innerHTML:f(o.question)},null,8,Ec)])])]),a("li",zc,[a("div",Ac,[i(q,{class:"mr-2"},{default:r(()=>[Ic]),_:1})]),a("div",Lc,[a("span",Tc,A(o.created_at),1),a("div",Rc,[a("div",{class:_e(["message-content p-3",K==p.value.length-1&&!ce.value?"ms-up":""]),innerHTML:o.message?f(o.message).replace(/\\n/g,`
`):""},null,10,Pc)])])])]))),128))])])):F("",!0)],512)])])])])]),_:1},8,["visible"])],64)}}});export{id as default};
