import{E as d}from"./entry.f3a6b6f6.js";import{k as $}from"./katex.69619638.js";var m=$;function p(r,e){var n,i,o=r.posMax,l=!0,c=!0;return n=e>0?r.src.charCodeAt(e-1):-1,i=e+1<=o?r.src.charCodeAt(e+1):-1,(n===32||n===9||i>=48&&i<=57)&&(c=!1),(i===32||i===9)&&(l=!1),{can_open:l,can_close:c}}function x(r,e){var n,i,o,l,c;if(r.src[r.pos]!=="$")return!1;if(l=p(r,r.pos),!l.can_open)return e||(r.pending+="$"),r.pos+=1,!0;for(n=r.pos+1,i=n;(i=r.src.indexOf("$",i))!==-1;){for(c=i-1;r.src[c]==="\\";)c-=1;if((i-c)%2==1)break;i+=1}return i===-1?(e||(r.pending+="$"),r.pos=n,!0):i-n===0?(e||(r.pending+="$$"),r.pos=n+1,!0):(l=p(r,i),l.can_close?(e||(o=r.push("math_inline","math",0),o.markup="$",o.content=r.src.slice(n,i)),r.pos=i+1,!0):(e||(r.pending+="$"),r.pos=n,!0))}function t(r,e,n,i){var o,l,c,f,u=!1,k,a=r.bMarks[e]+r.tShift[e],h=r.eMarks[e];if(a+2>h||r.src.slice(a,a+2)!=="$$")return!1;if(a+=2,o=r.src.slice(a,h),i)return!0;for(o.trim().slice(-2)==="$$"&&(o=o.trim().slice(0,-2),u=!0),c=e;!u&&(c++,!(c>=n||(a=r.bMarks[c]+r.tShift[c],h=r.eMarks[c],a<h&&r.tShift[c]<r.blkIndent)));)r.src.slice(a,h).trim().slice(-2)==="$$"&&(f=r.src.slice(0,h).lastIndexOf("$$"),l=r.src.slice(a,f),u=!0);return r.line=c+1,k=r.push("math_block","math",0),k.block=!0,k.content=(o&&o.trim()?o+`
`:"")+r.getLines(e+1,c,r.tShift[e],!0)+(l&&l.trim()?l:""),k.map=[e,r.line],k.markup="$$",!0}var b=function(e,n){n=n||{};var i=function(f){n.displayMode=!1;try{return m.renderToString(f,n)}catch(u){return n.throwOnError&&console.log(u),f}},o=function(f,u){return i(f[u].content)},l=function(f){n.displayMode=!0;try{return"<p>"+m.renderToString(f,n)+"</p>"}catch(u){return n.throwOnError&&console.log(u),f}},c=function(f,u){return l(f[u].content)+`
`};e.inline.ruler.after("escape","math_inline",x),e.block.ruler.after("blockquote","math_block",t,{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.math_inline=o,e.renderer.rules.math_block=c};const s=d(b);export{s as m};
