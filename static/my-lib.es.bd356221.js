import{p as j,d as w,q as E,s as m,x as N,o as y,c as g,n as P,y as $,e as p,aa as A,A as et,r as v,ab as lt,ac as ct,ad as ut,h as L,F as dt,l as ft,ae as mt,af as B,H as ht,ag as yt}from"./entry.f3a6b6f6.js";const gt=w({name:"IconHeart",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:t=>["butt","round","square"].includes(t)},strokeLinejoin:{type:String,default:"miter",validator:t=>["arcs","bevel","miter","miter-clip","round"].includes(t)},rotate:Number,spin:Boolean},emits:{click:t=>!0},setup(t,{emit:e}){const n=E("icon"),r=m(()=>[n,`${n}-heart`,{[`${n}-spin`]:t.spin}]),i=m(()=>{const o={};return t.size&&(o.fontSize=N(t.size)?`${t.size}px`:t.size),t.rotate&&(o.transform=`rotate(${t.rotate}deg)`),o});return{cls:r,innerStyle:i,onClick:o=>{e("click",o)}}}}),pt=["stroke-width","stroke-linecap","stroke-linejoin"],vt=p("path",{d:"M38.083 12.912a9.929 9.929 0 0 1 .177 13.878l-.177.18L25.76 39.273c-.972.97-2.548.97-3.52 0L9.917 26.971l-.177-.181a9.929 9.929 0 0 1 .177-13.878c3.889-3.883 10.194-3.883 14.083 0 3.889-3.883 10.194-3.883 14.083 0Z"},null,-1),bt=[vt];function wt(t,e,n,r,i,s){return y(),g("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:P(t.cls),style:$(t.innerStyle),"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin,onClick:e[0]||(e[0]=(...o)=>t.onClick&&t.onClick(...o))},bt,14,pt)}var z=j(gt,[["render",wt]]);const ue=Object.assign(z,{install:(t,e)=>{var n;const r=(n=e==null?void 0:e.iconPrefix)!=null?n:"";t.component(r+z.name,z)}}),_t=w({name:"IconThumbUp",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:t=>["butt","round","square"].includes(t)},strokeLinejoin:{type:String,default:"miter",validator:t=>["arcs","bevel","miter","miter-clip","round"].includes(t)},rotate:Number,spin:Boolean},emits:{click:t=>!0},setup(t,{emit:e}){const n=E("icon"),r=m(()=>[n,`${n}-thumb-up`,{[`${n}-spin`]:t.spin}]),i=m(()=>{const o={};return t.size&&(o.fontSize=N(t.size)?`${t.size}px`:t.size),t.rotate&&(o.transform=`rotate(${t.rotate}deg)`),o});return{cls:r,innerStyle:i,onClick:o=>{e("click",o)}}}}),kt=["stroke-width","stroke-linecap","stroke-linejoin"],$t=p("path",{d:"M7 17v26m35.17-21.394-5.948 18.697a1 1 0 0 1-.953.697H14V19h3l9.403-12.223a1 1 0 0 1 1.386-.196l2.535 1.87a6 6 0 0 1 2.044 6.974L31 19h9.265a2 2 0 0 1 1.906 2.606Z"},null,-1),Ot=[$t];function At(t,e,n,r,i,s){return y(),g("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:P(t.cls),style:$(t.innerStyle),"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin,onClick:e[0]||(e[0]=(...o)=>t.onClick&&t.onClick(...o))},Ot,14,kt)}var S=j(_t,[["render",At]]);const de=Object.assign(S,{install:(t,e)=>{var n;const r=(n=e==null?void 0:e.iconPrefix)!=null?n:"";t.component(r+S.name,S)}}),zt=w({name:"IconGift",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:t=>["butt","round","square"].includes(t)},strokeLinejoin:{type:String,default:"miter",validator:t=>["arcs","bevel","miter","miter-clip","round"].includes(t)},rotate:Number,spin:Boolean},emits:{click:t=>!0},setup(t,{emit:e}){const n=E("icon"),r=m(()=>[n,`${n}-gift`,{[`${n}-spin`]:t.spin}]),i=m(()=>{const o={};return t.size&&(o.fontSize=N(t.size)?`${t.size}px`:t.size),t.rotate&&(o.transform=`rotate(${t.rotate}deg)`),o});return{cls:r,innerStyle:i,onClick:o=>{e("click",o)}}}}),St=["stroke-width","stroke-linecap","stroke-linejoin"],It=p("path",{d:"M13.45 14.043H8a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h32a1 1 0 0 0 1-1v-8a1 1 0 0 0-1-1h-4.893m-21.657 0c-1.036-2.833-.615-5.6 1.182-6.637 2.152-1.243 5.464.464 7.397 3.812.539.933.914 1.896 1.127 2.825m-9.706 0h9.706m0 0H25.4m0 0a10.31 10.31 0 0 1 1.128-2.825c1.933-3.348 5.244-5.055 7.397-3.812 1.797 1.037 2.217 3.804 1.182 6.637m-9.707 0h9.707M10 26.043a2 2 0 0 1 2-2h24a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H12a2 2 0 0 1-2-2v-13Z"},null,-1),Ct=[It];function Lt(t,e,n,r,i,s){return y(),g("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:P(t.cls),style:$(t.innerStyle),"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin,onClick:e[0]||(e[0]=(...o)=>t.onClick&&t.onClick(...o))},Ct,14,St)}var I=j(zt,[["render",Lt]]);const fe=Object.assign(I,{install:(t,e)=>{var n;const r=(n=e==null?void 0:e.iconPrefix)!=null?n:"";t.component(r+I.name,I)}});function jt(t){return ct()?(ut(t),!0):!1}const nt=typeof window<"u";function Et(t,e){function n(...r){t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})}return n}function Nt(t,e={}){let n,r;return s=>{const o=L(t),a=L(e.maxWait);if(n&&clearTimeout(n),o<=0||a!==void 0&&a<=0)return r&&(clearTimeout(r),r=null),s();a&&!r&&(r=setTimeout(()=>{n&&clearTimeout(n),r=null,s()},a)),n=setTimeout(()=>{r&&clearTimeout(r),r=null,s()},o)}}function Pt(t,e=200,n={}){return Et(Nt(e,n),t)}function Rt(t){var e;const n=L(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Tt=nt?window:void 0,x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W="__vueuse_ssr_handlers__";x[W]=x[W]||{};var H=Object.getOwnPropertySymbols,Bt=Object.prototype.hasOwnProperty,xt=Object.prototype.propertyIsEnumerable,Wt=(t,e)=>{var n={};for(var r in t)Bt.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&H)for(var r of H(t))e.indexOf(r)<0&&xt.call(t,r)&&(n[r]=t[r]);return n};function Ht(t,e,n={}){const r=n,{window:i=Tt}=r,s=Wt(r,["window"]);let o;const a=i&&"ResizeObserver"in i,l=()=>{o&&(o.disconnect(),o=void 0)},c=et(()=>Rt(t),u=>{l(),a&&i&&u&&(o=new ResizeObserver(e),o.observe(u,s))},{immediate:!0,flush:"post"}),d=()=>{l(),c()};return jt(d),{isSupported:a,stop:d}}var D,M;nt&&(window!=null&&window.navigator)&&((D=window==null?void 0:window.navigator)!=null&&D.platform)&&/iP(ad|hone|od)/.test((M=window==null?void 0:window.navigator)==null?void 0:M.platform);const Dt=({breakpoints:t,wrapperWidth:e,gutter:n,hasAroundGutter:r,initWidth:i})=>{const s=Object.keys(t).map(c=>Number(c)).sort((c,d)=>c-d);let o=e,a=!1;for(const c of s)if(e<=c){o=c,a=!0;break}if(!a)return i;const l=t[o].rowPerView;return r?(e-n)/l-n:(e-(l-1)*n)/l};function Mt(t){const e=v(0),n=v(null);Ht(n,o=>{const a=o[0],{width:l}=a.contentRect;e.value=l});const r=m(()=>Dt({wrapperWidth:e.value,breakpoints:t.breakpoints,gutter:t.gutter,hasAroundGutter:t.hasAroundGutter,initWidth:t.width})),i=m(()=>{const o=t.hasAroundGutter?-t.gutter:t.gutter;return Math.floor((e.value+o)/(r.value+t.gutter))}),s=m(()=>{const o=t.hasAroundGutter?t.gutter:-t.gutter,a=i.value*(r.value+t.gutter)+o;return(e.value-a)/2});return{waterfallWrapper:n,wrapperWidth:e,colWidth:r,cols:i,offsetX:s}}function rt(t,e){return new RegExp(`(^|\\s)${e}(\\s|$)`).test(t.className)}function G(t,e){if(rt(t,e))return;const n=t.className.split(/\s+/);n.push(e),t.className=n.join(" ")}const Gt=document.createElement("div").style,C=(()=>{const t={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(const e in t){const n=t[e];if(Gt[n]!==void 0)return e}return!1})();function _(t){return C===!1?!1:C==="standard"?t:C+t.charAt(0).toUpperCase()+t.substr(1)}const U=_("transform"),V=_("animation-duration"),F=_("animation-delay"),K=_("transition"),q=_("animation-fill-mode");function Ut(t,e,n,r,i){const s=v([]),o=v(0),a=u=>{const f=t.hasAroundGutter?u+1:u;return t.gutter*f+e.value*u+r.value},l=()=>{s.value=new Array(n.value).fill(t.hasAroundGutter?t.gutter:0)},c=Vt(t);return{wrapperHeight:o,layoutHandle:async()=>{l();const u=[];if(i&&i.value&&i.value.childNodes.forEach(f=>{f.className==="waterfall-item"&&u.push(f)}),u.length===0)return!1;for(let f=0;f<u.length;f++){const h=u[f],k=Math.min.apply(null,s.value),T=s.value.indexOf(k),st=a(T),O=h.style;U&&(O[U]=`translate3d(${st}px,${k}px, 0)`),O.width=`${e.value}px`;const{height:at}=h.getBoundingClientRect();s.value[T]+=at+t.gutter,c(h,()=>{K&&(O[K]="transform .3s")})}o.value=Math.max.apply(null,s.value)}}}function Vt(t){return(e,n)=>{const r=e.firstChild;if(r&&!rt(r,t.animationPrefix)){const i=`${t.animationDuration/1e3}s`,s=`${t.animationDelay/1e3}s`,o=r.style;o.visibility="visible",V&&(o[V]=i),F&&(o[F]=s),q&&(o[q]="both"),G(r,t.animationPrefix),G(r,t.animationEffect),n&&setTimeout(()=>{n()},t.animationDuration+t.animationDelay)}}}const Ft=typeof window<"u"&&window!==null,X=Xt(),Kt=Object.prototype.propertyIsEnumerable,Y=Object.getOwnPropertySymbols;function qt(t,...e){return e.map(r=>r.replace(/\[(\w+)\]/g,".$1").split(".").reduce((i,s)=>i&&i[s],t))}function Xt(){return Ft&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}function b(t){return typeof t=="function"||toString.call(t)==="[object Object]"}function Yt(t){return typeof t=="object"?t===null:typeof t!="function"}function Zt(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}function Qt(t,...e){if(!b(t))throw new TypeError("expected the first argument to be an object");if(e.length===0||typeof Symbol!="function"||typeof Y!="function")return t;for(const n of e){const r=Y(n);for(const i of r)Kt.call(n,i)&&(t[i]=n[i])}return t}function ot(t,...e){let n=0;for(Yt(t)&&(t=e[n++]),t||(t={});n<e.length;n++)if(b(e[n])){for(const r of Object.keys(e[n]))Zt(r)&&(b(t[r])&&b(e[n][r])?ot(t[r],e[n][r]):t[r]=e[n][r]);Qt(t,e[n])}return t}function Z(t,e){return new Promise((n,r)=>{const i=new Image;i.onload=()=>{n(i)},i.onerror=()=>{r(new Error("Image load error"))},e&&(i.crossOrigin="Anonymous"),i.src=t})}const Jt={rootMargin:"0px",threshold:0},Q="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",te="";class ee{constructor(e=!0,n,r=!0){this.lazyActive=!0,this.crossOrigin=!0,this.options={loading:Q,error:te,observerOptions:Jt,log:!0},this._images=new WeakMap,this.lazyActive=e,this.crossOrigin=r,this.config(n)}config(e={}){ot(this.options,e)}mount(e,n,r){const{src:i,loading:s,error:o}=this._valueFormatter(n);e.setAttribute("lazy","loading"),e.setAttribute("src",s||Q),this.lazyActive?(X||(this._setImageSrc(e,i,r,o),this._log(()=>{throw new Error("Not support IntersectionObserver!")})),this._initIntersectionObserver(e,i,r,o)):this._setImageSrc(e,i,r,o)}resize(e,n){const r=e.getAttribute("lazy"),i=e.getAttribute("src");r&&r==="loaded"&&i&&Z(i,this.crossOrigin).then(s=>{const{width:o,height:a}=s,l=e.width/o*a;e.height=l;const c=e.style;c.height=`${l}px`,n()})}unmount(e){const n=this._realObserver(e);n&&n.unobserve(e),this._images.delete(e)}_setImageSrc(e,n,r,i){!n||e.getAttribute("src")===n||Z(n,this.crossOrigin).then(o=>{const{width:a,height:l}=o,c=l/a,d=e.parentNode.parentNode;d.style.paddingBottom=`${c*100}%`,e.setAttribute("lazy","loaded"),e.removeAttribute("src"),e.setAttribute("src",n),r()}).catch(()=>{const o=this._realObserver(e);o&&o.disconnect(),i&&(e.setAttribute("lazy","error"),e.setAttribute("src",i)),this._log(()=>{throw new Error(`Image failed to load!And failed src was: ${n} `)}),r()})}_isOpenLazy(){return X&&this.lazyActive}_initIntersectionObserver(e,n,r,i){const s=this.options.observerOptions;this._images.set(e,new IntersectionObserver(a=>{Array.prototype.forEach.call(a,l=>{if(l.isIntersecting){const c=this._realObserver(e);c&&c.unobserve(l.target),this._setImageSrc(e,n,r,i)}})},s));const o=this._realObserver(e);o&&o.observe(e)}_valueFormatter(e){let n=e,r=this.options.loading,i=this.options.error;return b(e)&&(n=e.src,r=e.loading||this.options.loading,i=e.error||this.options.error),{src:n,loading:r,error:i}}_log(e){this.options.log&&e()}_realObserver(e){return this._images.get(e)}}var it=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const R=w({props:{list:{type:Array,default:()=>[]},rowKey:{type:String,default:"id"},imgSelector:{type:String,default:"src"},width:{type:Number,default:200},breakpoints:{type:Object,default:()=>({1200:{rowPerView:3},800:{rowPerView:2},500:{rowPerView:1}})},gutter:{type:Number,default:10},hasAroundGutter:{type:Boolean,default:!0},animationPrefix:{type:String,default:"animate__animated"},animationEffect:{type:String,default:"fadeIn"},animationDuration:{type:Number,default:1e3},animationDelay:{type:Number,default:300},backgroundColor:{type:String,default:"#fff"},lazyload:{type:Boolean,default:!0},loadProps:{type:Object,default:()=>{}},crossOrigin:{type:Boolean,default:!0},delay:{type:Number,default:300}},setup(t){const e=new ee(t.lazyload,t.loadProps,t.crossOrigin);A("lazy",e);const{waterfallWrapper:n,wrapperWidth:r,colWidth:i,cols:s,offsetX:o}=Mt(t),{wrapperHeight:a,layoutHandle:l}=Ut(t,i,s,o,n),c=Pt(()=>{l()},t.delay);et(()=>[r,i,t.list],()=>{c()},{deep:!0});const d=v(0);return A("sizeChangeTime",d),A("imgLoaded",c),{waterfallWrapper:n,wrapperHeight:a,getRenderURL:h=>qt(h,t.imgSelector)[0],getKey:(h,k)=>h[t.rowKey]||k}}}),J=()=>{lt(t=>({e0bdcc92:t.backgroundColor}))},tt=R.setup;R.setup=tt?(t,e)=>(J(),tt(t,e)):J;const ne=R,re={class:"waterfall-card"};function oe(t,e,n,r,i,s){return y(),g("div",{ref:"waterfallWrapper",class:"waterfall-list",style:$({height:`${t.wrapperHeight}px`})},[(y(!0),g(dt,null,ft(t.list,(o,a)=>(y(),g("div",{key:t.getKey(o,a),class:"waterfall-item"},[p("div",re,[mt(t.$slots,"item",{item:o,index:a,url:t.getRenderURL(o)},void 0,!0)])]))),128))],4)}var me=it(ne,[["render",oe],["__scopeId","data-v-585fbbe9"]]);const ie=w({props:{url:{type:String,default:""}},setup(t,e){const n=B("imgLoaded"),r=B("lazy"),i=v(null);ht(()=>{s()}),yt(()=>{o()});function s(){i.value&&r.mount(i.value,t.url,()=>{n()})}function o(){i.value&&r.unmount(i.value)}function a(){e.emit("load")}return{lazyRef:i,imageLoad:a}}}),se={class:"lazy__box"},ae={class:"lazy__resource"};function le(t,e,n,r,i,s){return y(),g("div",se,[p("div",ae,[p("img",{ref:"lazyRef",class:"lazy__img",onLoad:e[0]||(e[0]=(...o)=>t.imageLoad&&t.imageLoad(...o))},null,544)])])}var he=it(ie,[["render",le],["__scopeId","data-v-2cb6e662"]]);export{ue as I,he as L,me as W,de as a,fe as b};
